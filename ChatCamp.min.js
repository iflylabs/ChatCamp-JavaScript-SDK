!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ChatCamp",[],t):"object"==typeof exports?exports.ChatCamp=t():e.ChatCamp=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r=n(5),s=n(13),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:s,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,s=arguments.length;r<s;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,s){e[s]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(12)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(33).LOG,i=a.DEBUG,o=a.INFO,c=a.WARN,u=a.ERROR,l=a.NONE,h=(Boolean(console.assert&&"".match(/assert/)),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,[{key:"log",value:function(e,t,n,s){"object"===(void 0===e?"undefined":r(e))&&(e,e="");(new Date).toLocaleTimeString();switch(n){case i:"debug";break;case o:"info";break;case c:"warn";break;case u:"error";break;default:"log"}}},{key:"debug",value:function(e,t){this.level>=i&&this.log(e,t,i,"#888")}},{key:"info",value:function(e,t){this.level>=o&&this.log(e,t,o,"black")}},{key:"warn",value:function(e,t){this.level>=c&&this.log(e,t,c,"orange")}},{key:"error",value:function(e,t){this.level>=u&&this.log(e,t,u,"red")}}]),e}());h.prototype.level="undefined"==typeof jasmine?u:l;var f=new h;e.exports=f},function(e,t,n){"use strict";(function(t){var r=n(0),s=n(16),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,c={adapter:("undefined"!=typeof XMLHttpRequest?o=n(6):void 0!==t&&(o=n(6)),o),transformRequest:[function(e,t){return s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(a)}),e.exports=c}).call(this,n(15))},function(e,t,n){(function(e,r){var s;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a,i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",f=1,p=2,d=4,g=1,_=2,m=1,y=2,I=4,v=8,w=16,C=32,T=64,k=128,b=256,A=512,M=30,S="...",L=800,U=16,E=1,P=2,O=1/0,F=9007199254740991,N=1.7976931348623157e308,R=NaN,x=4294967295,D=x-1,B=x>>>1,j=[["ary",k],["bind",m],["bindKey",y],["curry",v],["curryRight",w],["flip",A],["partial",C],["partialRight",T],["rearg",b]],G="[object Arguments]",H="[object Array]",z="[object AsyncFunction]",W="[object Boolean]",V="[object Date]",q="[object DOMException]",Q="[object Error]",K="[object Function]",J="[object GeneratorFunction]",$="[object Map]",Y="[object Number]",X="[object Null]",Z="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",se="[object Symbol]",ae="[object Undefined]",ie="[object WeakMap]",oe="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",fe="[object Int8Array]",pe="[object Int16Array]",de="[object Int32Array]",ge="[object Uint8Array]",_e="[object Uint8ClampedArray]",me="[object Uint16Array]",ye="[object Uint32Array]",Ie=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,ke=RegExp(Ce.source),be=RegExp(Te.source),Ae=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Pe.source),Fe=/^\s+|\s+$/g,Ne=/^\s+/,Re=/\s+$/,xe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,De=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Ze+"]",nt="["+Xe+"]",rt="\\d+",st="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",it="[^\\ud800-\\udfff"+Ze+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ot="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+at+"|"+it+")",pt="(?:"+ht+"|"+it+")",dt="(?:"+nt+"|"+ot+")"+"?",gt="[\\ufe0e\\ufe0f]?"+dt+("(?:\\u200d(?:"+[ct,ut,lt].join("|")+")[\\ufe0e\\ufe0f]?"+dt+")*"),_t="(?:"+[st,ut,lt].join("|")+")"+gt,mt="(?:"+[ct+nt+"?",nt,ut,lt,et].join("|")+")",yt=RegExp("['’]","g"),It=RegExp(nt,"g"),vt=RegExp(ot+"(?="+ot+")|"+mt+gt,"g"),wt=RegExp([ht+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+ft,"$"].join("|")+")",ht+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,_t].join("|"),"g"),Ct=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),Tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bt=-1,At={};At[le]=At[he]=At[fe]=At[pe]=At[de]=At[ge]=At[_e]=At[me]=At[ye]=!0,At[G]=At[H]=At[ce]=At[W]=At[ue]=At[V]=At[Q]=At[K]=At[$]=At[Y]=At[Z]=At[te]=At[ne]=At[re]=At[ie]=!1;var Mt={};Mt[G]=Mt[H]=Mt[ce]=Mt[ue]=Mt[W]=Mt[V]=Mt[le]=Mt[he]=Mt[fe]=Mt[pe]=Mt[de]=Mt[$]=Mt[Y]=Mt[Z]=Mt[te]=Mt[ne]=Mt[re]=Mt[se]=Mt[ge]=Mt[_e]=Mt[me]=Mt[ye]=!0,Mt[Q]=Mt[K]=Mt[ie]=!1;var St={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lt=parseFloat,Ut=parseInt,Et="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,Ot=Et||Pt||Function("return this")(),Ft=t&&!t.nodeType&&t,Nt=Ft&&"object"==typeof r&&r&&!r.nodeType&&r,Rt=Nt&&Nt.exports===Ft,xt=Rt&&Et.process,Dt=function(){try{var e=Nt&&Nt.require&&Nt.require("util").types;return e||xt&&xt.binding&&xt.binding("util")}catch(e){}}(),Bt=Dt&&Dt.isArrayBuffer,jt=Dt&&Dt.isDate,Gt=Dt&&Dt.isMap,Ht=Dt&&Dt.isRegExp,zt=Dt&&Dt.isSet,Wt=Dt&&Dt.isTypedArray;function Vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qt(e,t,n,r){for(var s=-1,a=null==e?0:e.length;++s<a;){var i=e[s];t(r,i,n(i),e)}return r}function Qt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function $t(e,t){for(var n=-1,r=null==e?0:e.length,s=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[s++]=i)}return a}function Yt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,s=null==e?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}function en(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}function tn(e,t,n,r){var s=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e);return n}function nn(e,t,n,r){var s=null==e?0:e.length;for(r&&s&&(n=e[--s]);s--;)n=t(n,e[s],s,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var sn=fn("length");function an(e,t,n){var r;return n(e,function(e,n,s){if(t(e,n,s))return r=n,!1}),r}function on(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}function cn(e,t,n){return t==t?function(e,t,n){var r=n-1,s=e.length;for(;++r<s;)if(e[r]===t)return r;return-1}(e,t,n):on(e,ln,n)}function un(e,t,n,r){for(var s=n-1,a=e.length;++s<a;)if(r(e[s],t))return s;return-1}function ln(e){return e!=e}function hn(e,t){var n=null==e?0:e.length;return n?gn(e,t)/n:R}function fn(e){return function(t){return null==t?a:t[e]}}function pn(e){return function(t){return null==e?a:e[t]}}function dn(e,t,n,r,s){return s(e,function(e,s,a){n=r?(r=!1,e):t(n,e,s,a)}),n}function gn(e,t){for(var n,r=-1,s=e.length;++r<s;){var i=t(e[r]);i!==a&&(n=n===a?i:n+i)}return n}function _n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function mn(e){return function(t){return e(t)}}function yn(e,t){return Zt(t,function(t){return e[t]})}function In(e,t){return e.has(t)}function vn(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function wn(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var Cn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Tn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(e){return"\\"+St[e]}function bn(e){return Ct.test(e)}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Mn(e,t){return function(n){return e(t(n))}}function Sn(e,t){for(var n=-1,r=e.length,s=0,a=[];++n<r;){var i=e[n];i!==t&&i!==h||(e[n]=h,a[s++]=n)}return a}function Ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Un(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function En(e){return bn(e)?function(e){var t=vt.lastIndex=0;for(;vt.test(e);)++t;return t}(e):sn(e)}function Pn(e){return bn(e)?function(e){return e.match(vt)||[]}(e):function(e){return e.split("")}(e)}var On=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Fn=function e(t){var n,r=(t=null==t?Ot:Fn.defaults(Ot.Object(),t,Fn.pick(Ot,kt))).Array,s=t.Date,Xe=t.Error,Ze=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,st=t.TypeError,at=r.prototype,it=Ze.prototype,ot=tt.prototype,ct=t["__core-js_shared__"],ut=it.toString,lt=ot.hasOwnProperty,ht=0,ft=(n=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pt=ot.toString,dt=ut.call(tt),gt=Ot._,_t=nt("^"+ut.call(lt).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Rt?t.Buffer:a,vt=t.Symbol,Ct=t.Uint8Array,St=mt?mt.allocUnsafe:a,Et=Mn(tt.getPrototypeOf,tt),Pt=tt.create,Ft=ot.propertyIsEnumerable,Nt=at.splice,xt=vt?vt.isConcatSpreadable:a,Dt=vt?vt.iterator:a,sn=vt?vt.toStringTag:a,pn=function(){try{var e=Da(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nn=t.clearTimeout!==Ot.clearTimeout&&t.clearTimeout,Rn=s&&s.now!==Ot.Date.now&&s.now,xn=t.setTimeout!==Ot.setTimeout&&t.setTimeout,Dn=et.ceil,Bn=et.floor,jn=tt.getOwnPropertySymbols,Gn=mt?mt.isBuffer:a,Hn=t.isFinite,zn=at.join,Wn=Mn(tt.keys,tt),Vn=et.max,qn=et.min,Qn=s.now,Kn=t.parseInt,Jn=et.random,$n=at.reverse,Yn=Da(t,"DataView"),Xn=Da(t,"Map"),Zn=Da(t,"Promise"),er=Da(t,"Set"),tr=Da(t,"WeakMap"),nr=Da(tt,"create"),rr=tr&&new tr,sr={},ar=li(Yn),ir=li(Xn),or=li(Zn),cr=li(er),ur=li(tr),lr=vt?vt.prototype:a,hr=lr?lr.valueOf:a,fr=lr?lr.toString:a;function pr(e){if(So(e)&&!mo(e)&&!(e instanceof mr)){if(e instanceof _r)return e;if(lt.call(e,"__wrapped__"))return hi(e)}return new _r(e)}var dr=function(){function e(){}return function(t){if(!Mo(t))return{};if(Pt)return Pt(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function gr(){}function _r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function mr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=x,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ir(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new vr;++t<n;)this.add(e[t])}function Cr(e){var t=this.__data__=new Ir(e);this.size=t.size}function Tr(e,t){var n=mo(e),r=!n&&_o(e),s=!n&&!r&&wo(e),a=!n&&!r&&!s&&Ro(e),i=n||r||s||a,o=i?_n(e.length,rt):[],c=o.length;for(var u in e)!t&&!lt.call(e,u)||i&&("length"==u||s&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Va(u,c))||o.push(u);return o}function kr(e){var t=e.length;return t?e[ws(0,t-1)]:a}function br(e,t){return oi(na(e),Fr(t,0,e.length))}function Ar(e){return oi(na(e))}function Mr(e,t,n){(n===a||fo(e[t],n))&&(n!==a||t in e)||Pr(e,t,n)}function Sr(e,t,n){var r=e[t];lt.call(e,t)&&fo(r,n)&&(n!==a||t in e)||Pr(e,t,n)}function Lr(e,t){for(var n=e.length;n--;)if(fo(e[n][0],t))return n;return-1}function Ur(e,t,n,r){return Br(e,function(e,s,a){t(r,e,n(e),a)}),r}function Er(e,t){return e&&ra(t,sc(t),e)}function Pr(e,t,n){"__proto__"==t&&pn?pn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Or(e,t){for(var n=-1,s=t.length,i=r(s),o=null==e;++n<s;)i[n]=o?a:Zo(e,t[n]);return i}function Fr(e,t,n){return e==e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function Nr(e,t,n,r,s,i){var o,c=t&f,u=t&p,l=t&d;if(n&&(o=s?n(e,r,s,i):n(e)),o!==a)return o;if(!Mo(e))return e;var h=mo(e);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return na(e,o)}else{var g=Ga(e),_=g==K||g==J;if(wo(e))return $s(e,c);if(g==Z||g==G||_&&!s){if(o=u||_?{}:za(e),!c)return u?function(e,t){return ra(e,ja(e),t)}(e,function(e,t){return e&&ra(t,ac(t),e)}(o,e)):function(e,t){return ra(e,Ba(e),t)}(e,Er(o,e))}else{if(!Mt[g])return s?e:{};o=function(e,t,n){var r,s,a,i=e.constructor;switch(t){case ce:return Ys(e);case W:case V:return new i(+e);case ue:return function(e,t){var n=t?Ys(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case he:case fe:case pe:case de:case ge:case _e:case me:case ye:return Xs(e,n);case $:return new i;case Y:case re:return new i(e);case te:return(a=new(s=e).constructor(s.source,ze.exec(s))).lastIndex=s.lastIndex,a;case ne:return new i;case se:return r=e,hr?tt(hr.call(r)):{}}}(e,g,c)}}i||(i=new Cr);var m=i.get(e);if(m)return m;if(i.set(e,o),Oo(e))return e.forEach(function(r){o.add(Nr(r,t,n,r,e,i))}),o;if(Lo(e))return e.forEach(function(r,s){o.set(s,Nr(r,t,n,s,e,i))}),o;var y=h?a:(l?u?Ea:Ua:u?ac:sc)(e);return Qt(y||e,function(r,s){y&&(r=e[s=r]),Sr(o,s,Nr(r,t,n,s,e,i))}),o}function Rr(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var s=n[r],i=t[s],o=e[s];if(o===a&&!(s in e)||!i(o))return!1}return!0}function xr(e,t,n){if("function"!=typeof e)throw new st(c);return ri(function(){e.apply(a,n)},t)}function Dr(e,t,n,r){var s=-1,a=Yt,o=!0,c=e.length,u=[],l=t.length;if(!c)return u;n&&(t=Zt(t,mn(n))),r?(a=Xt,o=!1):t.length>=i&&(a=In,o=!1,t=new wr(t));e:for(;++s<c;){var h=e[s],f=null==n?h:n(h);if(h=r||0!==h?h:0,o&&f==f){for(var p=l;p--;)if(t[p]===f)continue e;u.push(h)}else a(t,f,r)||u.push(h)}return u}pr.templateSettings={escape:Ae,evaluate:Me,interpolate:Se,variable:"",imports:{_:pr}},pr.prototype=gr.prototype,pr.prototype.constructor=pr,_r.prototype=dr(gr.prototype),_r.prototype.constructor=_r,mr.prototype=dr(gr.prototype),mr.prototype.constructor=mr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===u?a:n}return lt.call(t,e)?t[e]:a},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==a:lt.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===a?u:t,this},Ir.prototype.clear=function(){this.__data__=[],this.size=0},Ir.prototype.delete=function(e){var t=this.__data__,n=Lr(t,e);return!(n<0||(n==t.length-1?t.pop():Nt.call(t,n,1),--this.size,0))},Ir.prototype.get=function(e){var t=this.__data__,n=Lr(t,e);return n<0?a:t[n][1]},Ir.prototype.has=function(e){return Lr(this.__data__,e)>-1},Ir.prototype.set=function(e,t){var n=this.__data__,r=Lr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},vr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Xn||Ir),string:new yr}},vr.prototype.delete=function(e){var t=Ra(this,e).delete(e);return this.size-=t?1:0,t},vr.prototype.get=function(e){return Ra(this,e).get(e)},vr.prototype.has=function(e){return Ra(this,e).has(e)},vr.prototype.set=function(e,t){var n=Ra(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,u),this},wr.prototype.has=function(e){return this.__data__.has(e)},Cr.prototype.clear=function(){this.__data__=new Ir,this.size=0},Cr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Cr.prototype.get=function(e){return this.__data__.get(e)},Cr.prototype.has=function(e){return this.__data__.has(e)},Cr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ir){var r=n.__data__;if(!Xn||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new vr(r)}return n.set(e,t),this.size=n.size,this};var Br=ia(Qr),jr=ia(Kr,!0);function Gr(e,t){var n=!0;return Br(e,function(e,r,s){return n=!!t(e,r,s)}),n}function Hr(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],o=t(i);if(null!=o&&(c===a?o==o&&!No(o):n(o,c)))var c=o,u=i}return u}function zr(e,t){var n=[];return Br(e,function(e,r,s){t(e,r,s)&&n.push(e)}),n}function Wr(e,t,n,r,s){var a=-1,i=e.length;for(n||(n=Wa),s||(s=[]);++a<i;){var o=e[a];t>0&&n(o)?t>1?Wr(o,t-1,n,r,s):en(s,o):r||(s[s.length]=o)}return s}var Vr=oa(),qr=oa(!0);function Qr(e,t){return e&&Vr(e,t,sc)}function Kr(e,t){return e&&qr(e,t,sc)}function Jr(e,t){return $t(t,function(t){return ko(e[t])})}function $r(e,t){for(var n=0,r=(t=qs(t,e)).length;null!=e&&n<r;)e=e[ui(t[n++])];return n&&n==r?e:a}function Yr(e,t,n){var r=t(e);return mo(e)?r:en(r,n(e))}function Xr(e){return null==e?e===a?ae:X:sn&&sn in tt(e)?function(e){var t=lt.call(e,sn),n=e[sn];try{e[sn]=a;var r=!0}catch(e){}var s=pt.call(e);return r&&(t?e[sn]=n:delete e[sn]),s}(e):function(e){return pt.call(e)}(e)}function Zr(e,t){return e>t}function es(e,t){return null!=e&&lt.call(e,t)}function ts(e,t){return null!=e&&t in tt(e)}function ns(e,t,n){for(var s=n?Xt:Yt,i=e[0].length,o=e.length,c=o,u=r(o),l=1/0,h=[];c--;){var f=e[c];c&&t&&(f=Zt(f,mn(t))),l=qn(f.length,l),u[c]=!n&&(t||i>=120&&f.length>=120)?new wr(c&&f):a}f=e[0];var p=-1,d=u[0];e:for(;++p<i&&h.length<l;){var g=f[p],_=t?t(g):g;if(g=n||0!==g?g:0,!(d?In(d,_):s(h,_,n))){for(c=o;--c;){var m=u[c];if(!(m?In(m,_):s(e[c],_,n)))continue e}d&&d.push(_),h.push(g)}}return h}function rs(e,t,n){var r=null==(e=ei(e,t=qs(t,e)))?e:e[ui(Ci(t))];return null==r?a:Vt(r,e,n)}function ss(e){return So(e)&&Xr(e)==G}function as(e,t,n,r,s){return e===t||(null==e||null==t||!So(e)&&!So(t)?e!=e&&t!=t:function(e,t,n,r,s,i){var o=mo(e),c=mo(t),u=o?H:Ga(e),l=c?H:Ga(t),h=(u=u==G?Z:u)==Z,f=(l=l==G?Z:l)==Z,p=u==l;if(p&&wo(e)){if(!wo(t))return!1;o=!0,h=!1}if(p&&!h)return i||(i=new Cr),o||Ro(e)?Sa(e,t,n,r,s,i):function(e,t,n,r,s,a,i){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!a(new Ct(e),new Ct(t)));case W:case V:case Y:return fo(+e,+t);case Q:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case $:var o=An;case ne:var c=r&g;if(o||(o=Ln),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=_,i.set(e,t);var l=Sa(o(e),o(t),r,s,a,i);return i.delete(e),l;case se:if(hr)return hr.call(e)==hr.call(t)}return!1}(e,t,u,n,r,s,i);if(!(n&g)){var d=h&&lt.call(e,"__wrapped__"),m=f&&lt.call(t,"__wrapped__");if(d||m){var y=d?e.value():e,I=m?t.value():t;return i||(i=new Cr),s(y,I,n,r,i)}}return!!p&&(i||(i=new Cr),function(e,t,n,r,s,i){var o=n&g,c=Ua(e),u=c.length,l=Ua(t).length;if(u!=l&&!o)return!1;for(var h=u;h--;){var f=c[h];if(!(o?f in t:lt.call(t,f)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var d=!0;i.set(e,t),i.set(t,e);for(var _=o;++h<u;){f=c[h];var m=e[f],y=t[f];if(r)var I=o?r(y,m,f,t,e,i):r(m,y,f,e,t,i);if(!(I===a?m===y||s(m,y,n,r,i):I)){d=!1;break}_||(_="constructor"==f)}if(d&&!_){var v=e.constructor,w=t.constructor;v!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,r,s,i))}(e,t,n,r,as,s))}function is(e,t,n,r){var s=n.length,i=s,o=!r;if(null==e)return!i;for(e=tt(e);s--;){var c=n[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){var u=(c=n[s])[0],l=e[u],h=c[1];if(o&&c[2]){if(l===a&&!(u in e))return!1}else{var f=new Cr;if(r)var p=r(l,h,u,e,t,f);if(!(p===a?as(h,l,g|_,r,f):p))return!1}}return!0}function os(e){return!(!Mo(e)||ft&&ft in e)&&(ko(e)?_t:qe).test(li(e))}function cs(e){return"function"==typeof e?e:null==e?Uc:"object"==typeof e?mo(e)?ds(e[0],e[1]):ps(e):Bc(e)}function us(e){if(!$a(e))return Wn(e);var t=[];for(var n in tt(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ls(e){if(!Mo(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=$a(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function hs(e,t){return e<t}function fs(e,t){var n=-1,s=Io(e)?r(e.length):[];return Br(e,function(e,r,a){s[++n]=t(e,r,a)}),s}function ps(e){var t=xa(e);return 1==t.length&&t[0][2]?Xa(t[0][0],t[0][1]):function(n){return n===e||is(n,e,t)}}function ds(e,t){return Qa(e)&&Ya(t)?Xa(ui(e),t):function(n){var r=Zo(n,e);return r===a&&r===t?ec(n,e):as(t,r,g|_)}}function gs(e,t,n,r,s){e!==t&&Vr(t,function(i,o){if(Mo(i))s||(s=new Cr),function(e,t,n,r,s,i,o){var c=ti(e,n),u=ti(t,n),l=o.get(u);if(l)Mr(e,n,l);else{var h=i?i(c,u,n+"",e,t,o):a,f=h===a;if(f){var p=mo(u),d=!p&&wo(u),g=!p&&!d&&Ro(u);h=u,p||d||g?mo(c)?h=c:vo(c)?h=na(c):d?(f=!1,h=$s(u,!0)):g?(f=!1,h=Xs(u,!0)):h=[]:Eo(u)||_o(u)?(h=c,_o(c)?h=Wo(c):Mo(c)&&!ko(c)||(h=za(u))):f=!1}f&&(o.set(u,h),s(h,u,r,i,o),o.delete(u)),Mr(e,n,h)}}(e,t,o,n,gs,r,s);else{var c=r?r(ti(e,o),i,o+"",e,t,s):a;c===a&&(c=i),Mr(e,o,c)}},ac)}function _s(e,t){var n=e.length;if(n)return Va(t+=t<0?n:0,n)?e[t]:a}function ms(e,t,n){var r=-1;return t=Zt(t.length?t:[Uc],mn(Na())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(fs(e,function(e,n,s){return{criteria:Zt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,i=s.length,o=n.length;++r<i;){var c=Zs(s[r],a[r]);if(c){if(r>=o)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function ys(e,t,n){for(var r=-1,s=t.length,a={};++r<s;){var i=t[r],o=$r(e,i);n(o,i)&&As(a,qs(i,e),o)}return a}function Is(e,t,n,r){var s=r?un:cn,a=-1,i=t.length,o=e;for(e===t&&(t=na(t)),n&&(o=Zt(e,mn(n)));++a<i;)for(var c=0,u=t[a],l=n?n(u):u;(c=s(o,l,c,r))>-1;)o!==e&&Nt.call(o,c,1),Nt.call(e,c,1);return e}function vs(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==a){var a=s;Va(s)?Nt.call(e,s,1):Ds(e,s)}}return e}function ws(e,t){return e+Bn(Jn()*(t-e+1))}function Cs(e,t){var n="";if(!e||t<1||t>F)return n;do{t%2&&(n+=e),(t=Bn(t/2))&&(e+=e)}while(t);return n}function Ts(e,t){return si(Za(e,t,Uc),e+"")}function ks(e){return kr(pc(e))}function bs(e,t){var n=pc(e);return oi(n,Fr(t,0,n.length))}function As(e,t,n,r){if(!Mo(e))return e;for(var s=-1,i=(t=qs(t,e)).length,o=i-1,c=e;null!=c&&++s<i;){var u=ui(t[s]),l=n;if(s!=o){var h=c[u];(l=r?r(h,u,c):a)===a&&(l=Mo(h)?h:Va(t[s+1])?[]:{})}Sr(c,u,l),c=c[u]}return e}var Ms=rr?function(e,t){return rr.set(e,t),e}:Uc,Ss=pn?function(e,t){return pn(e,"toString",{configurable:!0,enumerable:!1,value:Mc(t),writable:!0})}:Uc;function Ls(e){return oi(pc(e))}function Us(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=r(a);++s<a;)i[s]=e[s+t];return i}function Es(e,t){var n;return Br(e,function(e,r,s){return!(n=t(e,r,s))}),!!n}function Ps(e,t,n){var r=0,s=null==e?r:e.length;if("number"==typeof t&&t==t&&s<=B){for(;r<s;){var a=r+s>>>1,i=e[a];null!==i&&!No(i)&&(n?i<=t:i<t)?r=a+1:s=a}return s}return Os(e,t,Uc,n)}function Os(e,t,n,r){t=n(t);for(var s=0,i=null==e?0:e.length,o=t!=t,c=null===t,u=No(t),l=t===a;s<i;){var h=Bn((s+i)/2),f=n(e[h]),p=f!==a,d=null===f,g=f==f,_=No(f);if(o)var m=r||g;else m=l?g&&(r||p):c?g&&p&&(r||!d):u?g&&p&&!d&&(r||!_):!d&&!_&&(r?f<=t:f<t);m?s=h+1:i=h}return qn(i,D)}function Fs(e,t){for(var n=-1,r=e.length,s=0,a=[];++n<r;){var i=e[n],o=t?t(i):i;if(!n||!fo(o,c)){var c=o;a[s++]=0===i?0:i}}return a}function Ns(e){return"number"==typeof e?e:No(e)?R:+e}function Rs(e){if("string"==typeof e)return e;if(mo(e))return Zt(e,Rs)+"";if(No(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-O?"-0":t}function xs(e,t,n){var r=-1,s=Yt,a=e.length,o=!0,c=[],u=c;if(n)o=!1,s=Xt;else if(a>=i){var l=t?null:Ca(e);if(l)return Ln(l);o=!1,s=In,u=new wr}else u=t?[]:c;e:for(;++r<a;){var h=e[r],f=t?t(h):h;if(h=n||0!==h?h:0,o&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),c.push(h)}else s(u,f,n)||(u!==c&&u.push(f),c.push(h))}return c}function Ds(e,t){return null==(e=ei(e,t=qs(t,e)))||delete e[ui(Ci(t))]}function Bs(e,t,n,r){return As(e,t,n($r(e,t)),r)}function js(e,t,n,r){for(var s=e.length,a=r?s:-1;(r?a--:++a<s)&&t(e[a],a,e););return n?Us(e,r?0:a,r?a+1:s):Us(e,r?a+1:0,r?s:a)}function Gs(e,t){var n=e;return n instanceof mr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function Hs(e,t,n){var s=e.length;if(s<2)return s?xs(e[0]):[];for(var a=-1,i=r(s);++a<s;)for(var o=e[a],c=-1;++c<s;)c!=a&&(i[a]=Dr(i[a]||o,e[c],t,n));return xs(Wr(i,1),t,n)}function zs(e,t,n){for(var r=-1,s=e.length,i=t.length,o={};++r<s;){var c=r<i?t[r]:a;n(o,e[r],c)}return o}function Ws(e){return vo(e)?e:[]}function Vs(e){return"function"==typeof e?e:Uc}function qs(e,t){return mo(e)?e:Qa(e,t)?[e]:ci(Vo(e))}var Qs=Ts;function Ks(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:Us(e,t,n)}var Js=Nn||function(e){return Ot.clearTimeout(e)};function $s(e,t){if(t)return e.slice();var n=e.length,r=St?St(n):new e.constructor(n);return e.copy(r),r}function Ys(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function Xs(e,t){var n=t?Ys(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Zs(e,t){if(e!==t){var n=e!==a,r=null===e,s=e==e,i=No(e),o=t!==a,c=null===t,u=t==t,l=No(t);if(!c&&!l&&!i&&e>t||i&&o&&u&&!c&&!l||r&&o&&u||!n&&u||!s)return 1;if(!r&&!i&&!l&&e<t||l&&n&&s&&!r&&!i||c&&n&&s||!o&&s||!u)return-1}return 0}function ea(e,t,n,s){for(var a=-1,i=e.length,o=n.length,c=-1,u=t.length,l=Vn(i-o,0),h=r(u+l),f=!s;++c<u;)h[c]=t[c];for(;++a<o;)(f||a<i)&&(h[n[a]]=e[a]);for(;l--;)h[c++]=e[a++];return h}function ta(e,t,n,s){for(var a=-1,i=e.length,o=-1,c=n.length,u=-1,l=t.length,h=Vn(i-c,0),f=r(h+l),p=!s;++a<h;)f[a]=e[a];for(var d=a;++u<l;)f[d+u]=t[u];for(;++o<c;)(p||a<i)&&(f[d+n[o]]=e[a++]);return f}function na(e,t){var n=-1,s=e.length;for(t||(t=r(s));++n<s;)t[n]=e[n];return t}function ra(e,t,n,r){var s=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var c=t[i],u=r?r(n[c],e[c],c,n,e):a;u===a&&(u=e[c]),s?Pr(n,c,u):Sr(n,c,u)}return n}function sa(e,t){return function(n,r){var s=mo(n)?qt:Ur,a=t?t():{};return s(n,e,Na(r,2),a)}}function aa(e){return Ts(function(t,n){var r=-1,s=n.length,i=s>1?n[s-1]:a,o=s>2?n[2]:a;for(i=e.length>3&&"function"==typeof i?(s--,i):a,o&&qa(n[0],n[1],o)&&(i=s<3?a:i,s=1),t=tt(t);++r<s;){var c=n[r];c&&e(t,c,r,i)}return t})}function ia(e,t){return function(n,r){if(null==n)return n;if(!Io(n))return e(n,r);for(var s=n.length,a=t?s:-1,i=tt(n);(t?a--:++a<s)&&!1!==r(i[a],a,i););return n}}function oa(e){return function(t,n,r){for(var s=-1,a=tt(t),i=r(t),o=i.length;o--;){var c=i[e?o:++s];if(!1===n(a[c],c,a))break}return t}}function ca(e){return function(t){var n=bn(t=Vo(t))?Pn(t):a,r=n?n[0]:t.charAt(0),s=n?Ks(n,1).join(""):t.slice(1);return r[e]()+s}}function ua(e){return function(t){return tn(kc(_c(t).replace(yt,"")),e,"")}}function la(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=dr(e.prototype),r=e.apply(n,t);return Mo(r)?r:n}}function ha(e){return function(t,n,r){var s=tt(t);if(!Io(t)){var i=Na(n,3);t=sc(t),n=function(e){return i(s[e],e,s)}}var o=e(t,n,r);return o>-1?s[i?t[o]:o]:a}}function fa(e){return La(function(t){var n=t.length,r=n,s=_r.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new st(c);if(s&&!o&&"wrapper"==Oa(i))var o=new _r([],!0)}for(r=o?r:n;++r<n;){var u=Oa(i=t[r]),l="wrapper"==u?Pa(i):a;o=l&&Ka(l[0])&&l[1]==(k|v|C|b)&&!l[4].length&&1==l[9]?o[Oa(l[0])].apply(o,l[3]):1==i.length&&Ka(i)?o[u]():o.thru(i)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&mo(r))return o.plant(r).value();for(var s=0,a=n?t[s].apply(this,e):r;++s<n;)a=t[s].call(this,a);return a}})}function pa(e,t,n,s,i,o,c,u,l,h){var f=t&k,p=t&m,d=t&y,g=t&(v|w),_=t&A,I=d?a:la(e);return function m(){for(var y=arguments.length,v=r(y),w=y;w--;)v[w]=arguments[w];if(g)var C=Fa(m),T=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,C);if(s&&(v=ea(v,s,i,g)),o&&(v=ta(v,o,c,g)),y-=T,g&&y<h){var k=Sn(v,C);return va(e,t,pa,m.placeholder,n,v,k,u,l,h-y)}var b=p?n:this,A=d?b[e]:e;return y=v.length,u?v=function(e,t){for(var n=e.length,r=qn(t.length,n),s=na(e);r--;){var i=t[r];e[r]=Va(i,n)?s[i]:a}return e}(v,u):_&&y>1&&v.reverse(),f&&l<y&&(v.length=l),this&&this!==Ot&&this instanceof m&&(A=I||la(A)),A.apply(b,v)}}function da(e,t){return function(n,r){return function(e,t,n,r){return Qr(e,function(e,s,a){t(r,n(e),s,a)}),r}(n,e,t(r),{})}}function ga(e,t){return function(n,r){var s;if(n===a&&r===a)return t;if(n!==a&&(s=n),r!==a){if(s===a)return r;"string"==typeof n||"string"==typeof r?(n=Rs(n),r=Rs(r)):(n=Ns(n),r=Ns(r)),s=e(n,r)}return s}}function _a(e){return La(function(t){return t=Zt(t,mn(Na())),Ts(function(n){var r=this;return e(t,function(e){return Vt(e,r,n)})})})}function ma(e,t){var n=(t=t===a?" ":Rs(t)).length;if(n<2)return n?Cs(t,e):t;var r=Cs(t,Dn(e/En(t)));return bn(t)?Ks(Pn(r),0,e).join(""):r.slice(0,e)}function ya(e){return function(t,n,s){return s&&"number"!=typeof s&&qa(t,n,s)&&(n=s=a),t=jo(t),n===a?(n=t,t=0):n=jo(n),function(e,t,n,s){for(var a=-1,i=Vn(Dn((t-e)/(n||1)),0),o=r(i);i--;)o[s?i:++a]=e,e+=n;return o}(t,n,s=s===a?t<n?1:-1:jo(s),e)}}function Ia(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=zo(t),n=zo(n)),e(t,n)}}function va(e,t,n,r,s,i,o,c,u,l){var h=t&v;t|=h?C:T,(t&=~(h?T:C))&I||(t&=~(m|y));var f=[e,t,s,h?i:a,h?o:a,h?a:i,h?a:o,c,u,l],p=n.apply(a,f);return Ka(e)&&ni(p,f),p.placeholder=r,ai(p,e,t)}function wa(e){var t=et[e];return function(e,n){if(e=zo(e),n=null==n?0:qn(Go(n),292)){var r=(Vo(e)+"e").split("e");return+((r=(Vo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ca=er&&1/Ln(new er([,-0]))[1]==O?function(e){return new er(e)}:Nc;function Ta(e){return function(t){var n=Ga(t);return n==$?An(t):n==ne?Un(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function ka(e,t,n,s,i,o,u,l){var f=t&y;if(!f&&"function"!=typeof e)throw new st(c);var p=s?s.length:0;if(p||(t&=~(C|T),s=i=a),u=u===a?u:Vn(Go(u),0),l=l===a?l:Go(l),p-=i?i.length:0,t&T){var d=s,g=i;s=i=a}var _=f?a:Pa(e),A=[e,t,n,s,i,d,g,o,u,l];if(_&&function(e,t){var n=e[1],r=t[1],s=n|r,a=s<(m|y|k),i=r==k&&n==v||r==k&&n==b&&e[7].length<=t[8]||r==(k|b)&&t[7].length<=t[8]&&n==v;if(!a&&!i)return e;r&m&&(e[2]=t[2],s|=n&m?0:I);var o=t[3];if(o){var c=e[3];e[3]=c?ea(c,o,t[4]):o,e[4]=c?Sn(e[3],h):t[4]}(o=t[5])&&(c=e[5],e[5]=c?ta(c,o,t[6]):o,e[6]=c?Sn(e[5],h):t[6]),(o=t[7])&&(e[7]=o),r&k&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}(A,_),e=A[0],t=A[1],n=A[2],s=A[3],i=A[4],!(l=A[9]=A[9]===a?f?0:e.length:Vn(A[9]-p,0))&&t&(v|w)&&(t&=~(v|w)),t&&t!=m)M=t==v||t==w?function(e,t,n){var s=la(e);return function i(){for(var o=arguments.length,c=r(o),u=o,l=Fa(i);u--;)c[u]=arguments[u];var h=o<3&&c[0]!==l&&c[o-1]!==l?[]:Sn(c,l);return(o-=h.length)<n?va(e,t,pa,i.placeholder,a,c,h,a,a,n-o):Vt(this&&this!==Ot&&this instanceof i?s:e,this,c)}}(e,t,l):t!=C&&t!=(m|C)||i.length?pa.apply(a,A):function(e,t,n,s){var a=t&m,i=la(e);return function t(){for(var o=-1,c=arguments.length,u=-1,l=s.length,h=r(l+c),f=this&&this!==Ot&&this instanceof t?i:e;++u<l;)h[u]=s[u];for(;c--;)h[u++]=arguments[++o];return Vt(f,a?n:this,h)}}(e,t,n,s);else var M=function(e,t,n){var r=t&m,s=la(e);return function t(){return(this&&this!==Ot&&this instanceof t?s:e).apply(r?n:this,arguments)}}(e,t,n);return ai((_?Ms:ni)(M,A),e,t)}function ba(e,t,n,r){return e===a||fo(e,ot[n])&&!lt.call(r,n)?t:e}function Aa(e,t,n,r,s,i){return Mo(e)&&Mo(t)&&(i.set(t,e),gs(e,t,a,Aa,i),i.delete(t)),e}function Ma(e){return Eo(e)?a:e}function Sa(e,t,n,r,s,i){var o=n&g,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var h=-1,f=!0,p=n&_?new wr:a;for(i.set(e,t),i.set(t,e);++h<c;){var d=e[h],m=t[h];if(r)var y=o?r(m,d,h,t,e,i):r(d,m,h,e,t,i);if(y!==a){if(y)continue;f=!1;break}if(p){if(!rn(t,function(e,t){if(!In(p,t)&&(d===e||s(d,e,n,r,i)))return p.push(t)})){f=!1;break}}else if(d!==m&&!s(d,m,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function La(e){return si(Za(e,a,mi),e+"")}function Ua(e){return Yr(e,sc,Ba)}function Ea(e){return Yr(e,ac,ja)}var Pa=rr?function(e){return rr.get(e)}:Nc;function Oa(e){for(var t=e.name+"",n=sr[t],r=lt.call(sr,t)?n.length:0;r--;){var s=n[r],a=s.func;if(null==a||a==e)return s.name}return t}function Fa(e){return(lt.call(pr,"placeholder")?pr:e).placeholder}function Na(){var e=pr.iteratee||Ec;return e=e===Ec?cs:e,arguments.length?e(arguments[0],arguments[1]):e}function Ra(e,t){var n,r,s=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map}function xa(e){for(var t=sc(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,Ya(s)]}return t}function Da(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return os(n)?n:a}var Ba=jn?function(e){return null==e?[]:(e=tt(e),$t(jn(e),function(t){return Ft.call(e,t)}))}:Hc,ja=jn?function(e){for(var t=[];e;)en(t,Ba(e)),e=Et(e);return t}:Hc,Ga=Xr;function Ha(e,t,n){for(var r=-1,s=(t=qs(t,e)).length,a=!1;++r<s;){var i=ui(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=s?a:!!(s=null==e?0:e.length)&&Ao(s)&&Va(i,s)&&(mo(e)||_o(e))}function za(e){return"function"!=typeof e.constructor||$a(e)?{}:dr(Et(e))}function Wa(e){return mo(e)||_o(e)||!!(xt&&e&&e[xt])}function Va(e,t){var n=typeof e;return!!(t=null==t?F:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function qa(e,t,n){if(!Mo(n))return!1;var r=typeof t;return!!("number"==r?Io(n)&&Va(t,n.length):"string"==r&&t in n)&&fo(n[t],e)}function Qa(e,t){if(mo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!No(e))||Ue.test(e)||!Le.test(e)||null!=t&&e in tt(t)}function Ka(e){var t=Oa(e),n=pr[t];if("function"!=typeof n||!(t in mr.prototype))return!1;if(e===n)return!0;var r=Pa(n);return!!r&&e===r[0]}(Yn&&Ga(new Yn(new ArrayBuffer(1)))!=ue||Xn&&Ga(new Xn)!=$||Zn&&"[object Promise]"!=Ga(Zn.resolve())||er&&Ga(new er)!=ne||tr&&Ga(new tr)!=ie)&&(Ga=function(e){var t=Xr(e),n=t==Z?e.constructor:a,r=n?li(n):"";if(r)switch(r){case ar:return ue;case ir:return $;case or:return"[object Promise]";case cr:return ne;case ur:return ie}return t});var Ja=ct?ko:zc;function $a(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ot)}function Ya(e){return e==e&&!Mo(e)}function Xa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==a||e in tt(n))}}function Za(e,t,n){return t=Vn(t===a?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=Vn(s.length-t,0),o=r(i);++a<i;)o[a]=s[t+a];a=-1;for(var c=r(t+1);++a<t;)c[a]=s[a];return c[t]=n(o),Vt(e,this,c)}}function ei(e,t){return t.length<2?e:$r(e,Us(t,0,-1))}function ti(e,t){if("__proto__"!=t)return e[t]}var ni=ii(Ms),ri=xn||function(e,t){return Ot.setTimeout(e,t)},si=ii(Ss);function ai(e,t,n){var r=t+"";return si(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(xe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Qt(j,function(n){var r="_."+n[0];t&n[1]&&!Yt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(De);return t?t[1].split(Be):[]}(r),n)))}function ii(e){var t=0,n=0;return function(){var r=Qn(),s=U-(r-n);if(n=r,s>0){if(++t>=L)return arguments[0]}else t=0;return e.apply(a,arguments)}}function oi(e,t){var n=-1,r=e.length,s=r-1;for(t=t===a?r:t;++n<t;){var i=ws(n,s),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}var ci=function(e){var t=io(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ee,function(e,n,r,s){t.push(r?s.replace(Ge,"$1"):n||e)}),t});function ui(e){if("string"==typeof e||No(e))return e;var t=e+"";return"0"==t&&1/e==-O?"-0":t}function li(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function hi(e){if(e instanceof mr)return e.clone();var t=new _r(e.__wrapped__,e.__chain__);return t.__actions__=na(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fi=Ts(function(e,t){return vo(e)?Dr(e,Wr(t,1,vo,!0)):[]}),pi=Ts(function(e,t){var n=Ci(t);return vo(n)&&(n=a),vo(e)?Dr(e,Wr(t,1,vo,!0),Na(n,2)):[]}),di=Ts(function(e,t){var n=Ci(t);return vo(n)&&(n=a),vo(e)?Dr(e,Wr(t,1,vo,!0),a,n):[]});function gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:Go(n);return s<0&&(s=Vn(r+s,0)),on(e,Na(t,3),s)}function _i(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==a&&(s=Go(n),s=n<0?Vn(r+s,0):qn(s,r-1)),on(e,Na(t,3),s,!0)}function mi(e){return null!=e&&e.length?Wr(e,1):[]}function yi(e){return e&&e.length?e[0]:a}var Ii=Ts(function(e){var t=Zt(e,Ws);return t.length&&t[0]===e[0]?ns(t):[]}),vi=Ts(function(e){var t=Ci(e),n=Zt(e,Ws);return t===Ci(n)?t=a:n.pop(),n.length&&n[0]===e[0]?ns(n,Na(t,2)):[]}),wi=Ts(function(e){var t=Ci(e),n=Zt(e,Ws);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?ns(n,a,t):[]});function Ci(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Ti=Ts(ki);function ki(e,t){return e&&e.length&&t&&t.length?Is(e,t):e}var bi=La(function(e,t){var n=null==e?0:e.length,r=Or(e,t);return vs(e,Zt(t,function(e){return Va(e,n)?+e:e}).sort(Zs)),r});function Ai(e){return null==e?e:$n.call(e)}var Mi=Ts(function(e){return xs(Wr(e,1,vo,!0))}),Si=Ts(function(e){var t=Ci(e);return vo(t)&&(t=a),xs(Wr(e,1,vo,!0),Na(t,2))}),Li=Ts(function(e){var t=Ci(e);return t="function"==typeof t?t:a,xs(Wr(e,1,vo,!0),a,t)});function Ui(e){if(!e||!e.length)return[];var t=0;return e=$t(e,function(e){if(vo(e))return t=Vn(e.length,t),!0}),_n(t,function(t){return Zt(e,fn(t))})}function Ei(e,t){if(!e||!e.length)return[];var n=Ui(e);return null==t?n:Zt(n,function(e){return Vt(t,a,e)})}var Pi=Ts(function(e,t){return vo(e)?Dr(e,t):[]}),Oi=Ts(function(e){return Hs($t(e,vo))}),Fi=Ts(function(e){var t=Ci(e);return vo(t)&&(t=a),Hs($t(e,vo),Na(t,2))}),Ni=Ts(function(e){var t=Ci(e);return t="function"==typeof t?t:a,Hs($t(e,vo),a,t)}),Ri=Ts(Ui);var xi=Ts(function(e){var t=e.length,n=t>1?e[t-1]:a;return Ei(e,n="function"==typeof n?(e.pop(),n):a)});function Di(e){var t=pr(e);return t.__chain__=!0,t}function Bi(e,t){return t(e)}var ji=La(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return Or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof mr&&Va(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Bi,args:[s],thisArg:a}),new _r(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(a),e})):this.thru(s)});var Gi=sa(function(e,t,n){lt.call(e,n)?++e[n]:Pr(e,n,1)});var Hi=ha(gi),zi=ha(_i);function Wi(e,t){return(mo(e)?Qt:Br)(e,Na(t,3))}function Vi(e,t){return(mo(e)?Kt:jr)(e,Na(t,3))}var qi=sa(function(e,t,n){lt.call(e,n)?e[n].push(t):Pr(e,n,[t])});var Qi=Ts(function(e,t,n){var s=-1,a="function"==typeof t,i=Io(e)?r(e.length):[];return Br(e,function(e){i[++s]=a?Vt(t,e,n):rs(e,t,n)}),i}),Ki=sa(function(e,t,n){Pr(e,n,t)});function Ji(e,t){return(mo(e)?Zt:fs)(e,Na(t,3))}var $i=sa(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Yi=Ts(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qa(e,t[0],t[1])?t=[]:n>2&&qa(t[0],t[1],t[2])&&(t=[t[0]]),ms(e,Wr(t,1),[])}),Xi=Rn||function(){return Ot.Date.now()};function Zi(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,ka(e,k,a,a,a,a,t)}function eo(e,t){var n;if("function"!=typeof t)throw new st(c);return e=Go(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var to=Ts(function(e,t,n){var r=m;if(n.length){var s=Sn(n,Fa(to));r|=C}return ka(e,r,t,n,s)}),no=Ts(function(e,t,n){var r=m|y;if(n.length){var s=Sn(n,Fa(no));r|=C}return ka(t,r,e,n,s)});function ro(e,t,n){var r,s,i,o,u,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new st(c);function g(t){var n=r,i=s;return r=s=a,h=t,o=e.apply(i,n)}function _(e){var n=e-l;return l===a||n>=t||n<0||p&&e-h>=i}function m(){var e=Xi();if(_(e))return y(e);u=ri(m,function(e){var n=t-(e-l);return p?qn(n,i-(e-h)):n}(e))}function y(e){return u=a,d&&r?g(e):(r=s=a,o)}function I(){var e=Xi(),n=_(e);if(r=arguments,s=this,l=e,n){if(u===a)return function(e){return h=e,u=ri(m,t),f?g(e):o}(l);if(p)return u=ri(m,t),g(l)}return u===a&&(u=ri(m,t)),o}return t=zo(t)||0,Mo(n)&&(f=!!n.leading,i=(p="maxWait"in n)?Vn(zo(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),I.cancel=function(){u!==a&&Js(u),h=0,r=l=s=u=a},I.flush=function(){return u===a?o:y(Xi())},I}var so=Ts(function(e,t){return xr(e,1,t)}),ao=Ts(function(e,t,n){return xr(e,zo(t)||0,n)});function io(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new st(c);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=e.apply(this,r);return n.cache=a.set(s,i)||a,i};return n.cache=new(io.Cache||vr),n}function oo(e){if("function"!=typeof e)throw new st(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}io.Cache=vr;var co=Qs(function(e,t){var n=(t=1==t.length&&mo(t[0])?Zt(t[0],mn(Na())):Zt(Wr(t,1),mn(Na()))).length;return Ts(function(r){for(var s=-1,a=qn(r.length,n);++s<a;)r[s]=t[s].call(this,r[s]);return Vt(e,this,r)})}),uo=Ts(function(e,t){var n=Sn(t,Fa(uo));return ka(e,C,a,t,n)}),lo=Ts(function(e,t){var n=Sn(t,Fa(lo));return ka(e,T,a,t,n)}),ho=La(function(e,t){return ka(e,b,a,a,a,t)});function fo(e,t){return e===t||e!=e&&t!=t}var po=Ia(Zr),go=Ia(function(e,t){return e>=t}),_o=ss(function(){return arguments}())?ss:function(e){return So(e)&&lt.call(e,"callee")&&!Ft.call(e,"callee")},mo=r.isArray,yo=Bt?mn(Bt):function(e){return So(e)&&Xr(e)==ce};function Io(e){return null!=e&&Ao(e.length)&&!ko(e)}function vo(e){return So(e)&&Io(e)}var wo=Gn||zc,Co=jt?mn(jt):function(e){return So(e)&&Xr(e)==V};function To(e){if(!So(e))return!1;var t=Xr(e);return t==Q||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!Eo(e)}function ko(e){if(!Mo(e))return!1;var t=Xr(e);return t==K||t==J||t==z||t==ee}function bo(e){return"number"==typeof e&&e==Go(e)}function Ao(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function Mo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function So(e){return null!=e&&"object"==typeof e}var Lo=Gt?mn(Gt):function(e){return So(e)&&Ga(e)==$};function Uo(e){return"number"==typeof e||So(e)&&Xr(e)==Y}function Eo(e){if(!So(e)||Xr(e)!=Z)return!1;var t=Et(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==dt}var Po=Ht?mn(Ht):function(e){return So(e)&&Xr(e)==te};var Oo=zt?mn(zt):function(e){return So(e)&&Ga(e)==ne};function Fo(e){return"string"==typeof e||!mo(e)&&So(e)&&Xr(e)==re}function No(e){return"symbol"==typeof e||So(e)&&Xr(e)==se}var Ro=Wt?mn(Wt):function(e){return So(e)&&Ao(e.length)&&!!At[Xr(e)]};var xo=Ia(hs),Do=Ia(function(e,t){return e<=t});function Bo(e){if(!e)return[];if(Io(e))return Fo(e)?Pn(e):na(e);if(Dt&&e[Dt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Dt]());var t=Ga(e);return(t==$?An:t==ne?Ln:pc)(e)}function jo(e){return e?(e=zo(e))===O||e===-O?(e<0?-1:1)*N:e==e?e:0:0===e?e:0}function Go(e){var t=jo(e),n=t%1;return t==t?n?t-n:t:0}function Ho(e){return e?Fr(Go(e),0,x):0}function zo(e){if("number"==typeof e)return e;if(No(e))return R;if(Mo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Mo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Fe,"");var n=Ve.test(e);return n||Qe.test(e)?Ut(e.slice(2),n?2:8):We.test(e)?R:+e}function Wo(e){return ra(e,ac(e))}function Vo(e){return null==e?"":Rs(e)}var qo=aa(function(e,t){if($a(t)||Io(t))ra(t,sc(t),e);else for(var n in t)lt.call(t,n)&&Sr(e,n,t[n])}),Qo=aa(function(e,t){ra(t,ac(t),e)}),Ko=aa(function(e,t,n,r){ra(t,ac(t),e,r)}),Jo=aa(function(e,t,n,r){ra(t,sc(t),e,r)}),$o=La(Or);var Yo=Ts(function(e,t){e=tt(e);var n=-1,r=t.length,s=r>2?t[2]:a;for(s&&qa(t[0],t[1],s)&&(r=1);++n<r;)for(var i=t[n],o=ac(i),c=-1,u=o.length;++c<u;){var l=o[c],h=e[l];(h===a||fo(h,ot[l])&&!lt.call(e,l))&&(e[l]=i[l])}return e}),Xo=Ts(function(e){return e.push(a,Aa),Vt(oc,a,e)});function Zo(e,t,n){var r=null==e?a:$r(e,t);return r===a?n:r}function ec(e,t){return null!=e&&Ha(e,t,ts)}var tc=da(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n},Mc(Uc)),nc=da(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),lt.call(e,t)?e[t].push(n):e[t]=[n]},Na),rc=Ts(rs);function sc(e){return Io(e)?Tr(e):us(e)}function ac(e){return Io(e)?Tr(e,!0):ls(e)}var ic=aa(function(e,t,n){gs(e,t,n)}),oc=aa(function(e,t,n,r){gs(e,t,n,r)}),cc=La(function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,function(t){return t=qs(t,e),r||(r=t.length>1),t}),ra(e,Ea(e),n),r&&(n=Nr(n,f|p|d,Ma));for(var s=t.length;s--;)Ds(n,t[s]);return n});var uc=La(function(e,t){return null==e?{}:function(e,t){return ys(e,t,function(t,n){return ec(e,n)})}(e,t)});function lc(e,t){if(null==e)return{};var n=Zt(Ea(e),function(e){return[e]});return t=Na(t),ys(e,n,function(e,n){return t(e,n[0])})}var hc=Ta(sc),fc=Ta(ac);function pc(e){return null==e?[]:yn(e,sc(e))}var dc=ua(function(e,t,n){return t=t.toLowerCase(),e+(n?gc(t):t)});function gc(e){return Tc(Vo(e).toLowerCase())}function _c(e){return(e=Vo(e))&&e.replace(Je,Cn).replace(It,"")}var mc=ua(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),yc=ua(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ic=ca("toLowerCase");var vc=ua(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var wc=ua(function(e,t,n){return e+(n?" ":"")+Tc(t)});var Cc=ua(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Tc=ca("toUpperCase");function kc(e,t,n){return e=Vo(e),(t=n?a:t)===a?function(e){return Tt.test(e)}(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.match(je)||[]}(e):e.match(t)||[]}var bc=Ts(function(e,t){try{return Vt(e,a,t)}catch(e){return To(e)?e:new Xe(e)}}),Ac=La(function(e,t){return Qt(t,function(t){t=ui(t),Pr(e,t,to(e[t],e))}),e});function Mc(e){return function(){return e}}var Sc=fa(),Lc=fa(!0);function Uc(e){return e}function Ec(e){return cs("function"==typeof e?e:Nr(e,f))}var Pc=Ts(function(e,t){return function(n){return rs(n,e,t)}}),Oc=Ts(function(e,t){return function(n){return rs(e,n,t)}});function Fc(e,t,n){var r=sc(t),s=Jr(t,r);null!=n||Mo(t)&&(s.length||!r.length)||(n=t,t=e,e=this,s=Jr(t,sc(t)));var a=!(Mo(n)&&"chain"in n&&!n.chain),i=ko(e);return Qt(s,function(n){var r=t[n];e[n]=r,i&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=na(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Nc(){}var Rc=_a(Zt),xc=_a(Jt),Dc=_a(rn);function Bc(e){return Qa(e)?fn(ui(e)):function(e){return function(t){return $r(t,e)}}(e)}var jc=ya(),Gc=ya(!0);function Hc(){return[]}function zc(){return!1}var Wc=ga(function(e,t){return e+t},0),Vc=wa("ceil"),qc=ga(function(e,t){return e/t},1),Qc=wa("floor");var Kc,Jc=ga(function(e,t){return e*t},1),$c=wa("round"),Yc=ga(function(e,t){return e-t},0);return pr.after=function(e,t){if("function"!=typeof t)throw new st(c);return e=Go(e),function(){if(--e<1)return t.apply(this,arguments)}},pr.ary=Zi,pr.assign=qo,pr.assignIn=Qo,pr.assignInWith=Ko,pr.assignWith=Jo,pr.at=$o,pr.before=eo,pr.bind=to,pr.bindAll=Ac,pr.bindKey=no,pr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return mo(e)?e:[e]},pr.chain=Di,pr.chunk=function(e,t,n){t=(n?qa(e,t,n):t===a)?1:Vn(Go(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var i=0,o=0,c=r(Dn(s/t));i<s;)c[o++]=Us(e,i,i+=t);return c},pr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,s=[];++t<n;){var a=e[t];a&&(s[r++]=a)}return s},pr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return en(mo(n)?na(n):[n],Wr(t,1))},pr.cond=function(e){var t=null==e?0:e.length,n=Na();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new st(c);return[n(e[0]),e[1]]}):[],Ts(function(n){for(var r=-1;++r<t;){var s=e[r];if(Vt(s[0],this,n))return Vt(s[1],this,n)}})},pr.conforms=function(e){return function(e){var t=sc(e);return function(n){return Rr(n,e,t)}}(Nr(e,f))},pr.constant=Mc,pr.countBy=Gi,pr.create=function(e,t){var n=dr(e);return null==t?n:Er(n,t)},pr.curry=function e(t,n,r){var s=ka(t,v,a,a,a,a,a,n=r?a:n);return s.placeholder=e.placeholder,s},pr.curryRight=function e(t,n,r){var s=ka(t,w,a,a,a,a,a,n=r?a:n);return s.placeholder=e.placeholder,s},pr.debounce=ro,pr.defaults=Yo,pr.defaultsDeep=Xo,pr.defer=so,pr.delay=ao,pr.difference=fi,pr.differenceBy=pi,pr.differenceWith=di,pr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Us(e,(t=n||t===a?1:Go(t))<0?0:t,r):[]},pr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Us(e,0,(t=r-(t=n||t===a?1:Go(t)))<0?0:t):[]},pr.dropRightWhile=function(e,t){return e&&e.length?js(e,Na(t,3),!0,!0):[]},pr.dropWhile=function(e,t){return e&&e.length?js(e,Na(t,3),!0):[]},pr.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&qa(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=Go(n))<0&&(n=-n>s?0:s+n),(r=r===a||r>s?s:Go(r))<0&&(r+=s),r=n>r?0:Ho(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},pr.filter=function(e,t){return(mo(e)?$t:zr)(e,Na(t,3))},pr.flatMap=function(e,t){return Wr(Ji(e,t),1)},pr.flatMapDeep=function(e,t){return Wr(Ji(e,t),O)},pr.flatMapDepth=function(e,t,n){return n=n===a?1:Go(n),Wr(Ji(e,t),n)},pr.flatten=mi,pr.flattenDeep=function(e){return null!=e&&e.length?Wr(e,O):[]},pr.flattenDepth=function(e,t){return null!=e&&e.length?Wr(e,t=t===a?1:Go(t)):[]},pr.flip=function(e){return ka(e,A)},pr.flow=Sc,pr.flowRight=Lc,pr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r},pr.functions=function(e){return null==e?[]:Jr(e,sc(e))},pr.functionsIn=function(e){return null==e?[]:Jr(e,ac(e))},pr.groupBy=qi,pr.initial=function(e){return null!=e&&e.length?Us(e,0,-1):[]},pr.intersection=Ii,pr.intersectionBy=vi,pr.intersectionWith=wi,pr.invert=tc,pr.invertBy=nc,pr.invokeMap=Qi,pr.iteratee=Ec,pr.keyBy=Ki,pr.keys=sc,pr.keysIn=ac,pr.map=Ji,pr.mapKeys=function(e,t){var n={};return t=Na(t,3),Qr(e,function(e,r,s){Pr(n,t(e,r,s),e)}),n},pr.mapValues=function(e,t){var n={};return t=Na(t,3),Qr(e,function(e,r,s){Pr(n,r,t(e,r,s))}),n},pr.matches=function(e){return ps(Nr(e,f))},pr.matchesProperty=function(e,t){return ds(e,Nr(t,f))},pr.memoize=io,pr.merge=ic,pr.mergeWith=oc,pr.method=Pc,pr.methodOf=Oc,pr.mixin=Fc,pr.negate=oo,pr.nthArg=function(e){return e=Go(e),Ts(function(t){return _s(t,e)})},pr.omit=cc,pr.omitBy=function(e,t){return lc(e,oo(Na(t)))},pr.once=function(e){return eo(2,e)},pr.orderBy=function(e,t,n,r){return null==e?[]:(mo(t)||(t=null==t?[]:[t]),mo(n=r?a:n)||(n=null==n?[]:[n]),ms(e,t,n))},pr.over=Rc,pr.overArgs=co,pr.overEvery=xc,pr.overSome=Dc,pr.partial=uo,pr.partialRight=lo,pr.partition=$i,pr.pick=uc,pr.pickBy=lc,pr.property=Bc,pr.propertyOf=function(e){return function(t){return null==e?a:$r(e,t)}},pr.pull=Ti,pr.pullAll=ki,pr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Is(e,t,Na(n,2)):e},pr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Is(e,t,a,n):e},pr.pullAt=bi,pr.range=jc,pr.rangeRight=Gc,pr.rearg=ho,pr.reject=function(e,t){return(mo(e)?$t:zr)(e,oo(Na(t,3)))},pr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,s=[],a=e.length;for(t=Na(t,3);++r<a;){var i=e[r];t(i,r,e)&&(n.push(i),s.push(r))}return vs(e,s),n},pr.rest=function(e,t){if("function"!=typeof e)throw new st(c);return Ts(e,t=t===a?t:Go(t))},pr.reverse=Ai,pr.sampleSize=function(e,t,n){return t=(n?qa(e,t,n):t===a)?1:Go(t),(mo(e)?br:bs)(e,t)},pr.set=function(e,t,n){return null==e?e:As(e,t,n)},pr.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:As(e,t,n,r)},pr.shuffle=function(e){return(mo(e)?Ar:Ls)(e)},pr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qa(e,t,n)?(t=0,n=r):(t=null==t?0:Go(t),n=n===a?r:Go(n)),Us(e,t,n)):[]},pr.sortBy=Yi,pr.sortedUniq=function(e){return e&&e.length?Fs(e):[]},pr.sortedUniqBy=function(e,t){return e&&e.length?Fs(e,Na(t,2)):[]},pr.split=function(e,t,n){return n&&"number"!=typeof n&&qa(e,t,n)&&(t=n=a),(n=n===a?x:n>>>0)?(e=Vo(e))&&("string"==typeof t||null!=t&&!Po(t))&&!(t=Rs(t))&&bn(e)?Ks(Pn(e),0,n):e.split(t,n):[]},pr.spread=function(e,t){if("function"!=typeof e)throw new st(c);return t=null==t?0:Vn(Go(t),0),Ts(function(n){var r=n[t],s=Ks(n,0,t);return r&&en(s,r),Vt(e,this,s)})},pr.tail=function(e){var t=null==e?0:e.length;return t?Us(e,1,t):[]},pr.take=function(e,t,n){return e&&e.length?Us(e,0,(t=n||t===a?1:Go(t))<0?0:t):[]},pr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Us(e,(t=r-(t=n||t===a?1:Go(t)))<0?0:t,r):[]},pr.takeRightWhile=function(e,t){return e&&e.length?js(e,Na(t,3),!1,!0):[]},pr.takeWhile=function(e,t){return e&&e.length?js(e,Na(t,3)):[]},pr.tap=function(e,t){return t(e),e},pr.throttle=function(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new st(c);return Mo(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),ro(e,t,{leading:r,maxWait:t,trailing:s})},pr.thru=Bi,pr.toArray=Bo,pr.toPairs=hc,pr.toPairsIn=fc,pr.toPath=function(e){return mo(e)?Zt(e,ui):No(e)?[e]:na(ci(Vo(e)))},pr.toPlainObject=Wo,pr.transform=function(e,t,n){var r=mo(e),s=r||wo(e)||Ro(e);if(t=Na(t,4),null==n){var a=e&&e.constructor;n=s?r?new a:[]:Mo(e)&&ko(a)?dr(Et(e)):{}}return(s?Qt:Qr)(e,function(e,r,s){return t(n,e,r,s)}),n},pr.unary=function(e){return Zi(e,1)},pr.union=Mi,pr.unionBy=Si,pr.unionWith=Li,pr.uniq=function(e){return e&&e.length?xs(e):[]},pr.uniqBy=function(e,t){return e&&e.length?xs(e,Na(t,2)):[]},pr.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?xs(e,a,t):[]},pr.unset=function(e,t){return null==e||Ds(e,t)},pr.unzip=Ui,pr.unzipWith=Ei,pr.update=function(e,t,n){return null==e?e:Bs(e,t,Vs(n))},pr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:Bs(e,t,Vs(n),r)},pr.values=pc,pr.valuesIn=function(e){return null==e?[]:yn(e,ac(e))},pr.without=Pi,pr.words=kc,pr.wrap=function(e,t){return uo(Vs(t),e)},pr.xor=Oi,pr.xorBy=Fi,pr.xorWith=Ni,pr.zip=Ri,pr.zipObject=function(e,t){return zs(e||[],t||[],Sr)},pr.zipObjectDeep=function(e,t){return zs(e||[],t||[],As)},pr.zipWith=xi,pr.entries=hc,pr.entriesIn=fc,pr.extend=Qo,pr.extendWith=Ko,Fc(pr,pr),pr.add=Wc,pr.attempt=bc,pr.camelCase=dc,pr.capitalize=gc,pr.ceil=Vc,pr.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=zo(n))==n?n:0),t!==a&&(t=(t=zo(t))==t?t:0),Fr(zo(e),t,n)},pr.clone=function(e){return Nr(e,d)},pr.cloneDeep=function(e){return Nr(e,f|d)},pr.cloneDeepWith=function(e,t){return Nr(e,f|d,t="function"==typeof t?t:a)},pr.cloneWith=function(e,t){return Nr(e,d,t="function"==typeof t?t:a)},pr.conformsTo=function(e,t){return null==t||Rr(e,t,sc(t))},pr.deburr=_c,pr.defaultTo=function(e,t){return null==e||e!=e?t:e},pr.divide=qc,pr.endsWith=function(e,t,n){e=Vo(e),t=Rs(t);var r=e.length,s=n=n===a?r:Fr(Go(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},pr.eq=fo,pr.escape=function(e){return(e=Vo(e))&&be.test(e)?e.replace(Te,Tn):e},pr.escapeRegExp=function(e){return(e=Vo(e))&&Oe.test(e)?e.replace(Pe,"\\$&"):e},pr.every=function(e,t,n){var r=mo(e)?Jt:Gr;return n&&qa(e,t,n)&&(t=a),r(e,Na(t,3))},pr.find=Hi,pr.findIndex=gi,pr.findKey=function(e,t){return an(e,Na(t,3),Qr)},pr.findLast=zi,pr.findLastIndex=_i,pr.findLastKey=function(e,t){return an(e,Na(t,3),Kr)},pr.floor=Qc,pr.forEach=Wi,pr.forEachRight=Vi,pr.forIn=function(e,t){return null==e?e:Vr(e,Na(t,3),ac)},pr.forInRight=function(e,t){return null==e?e:qr(e,Na(t,3),ac)},pr.forOwn=function(e,t){return e&&Qr(e,Na(t,3))},pr.forOwnRight=function(e,t){return e&&Kr(e,Na(t,3))},pr.get=Zo,pr.gt=po,pr.gte=go,pr.has=function(e,t){return null!=e&&Ha(e,t,es)},pr.hasIn=ec,pr.head=yi,pr.identity=Uc,pr.includes=function(e,t,n,r){e=Io(e)?e:pc(e),n=n&&!r?Go(n):0;var s=e.length;return n<0&&(n=Vn(s+n,0)),Fo(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&cn(e,t,n)>-1},pr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:Go(n);return s<0&&(s=Vn(r+s,0)),cn(e,t,s)},pr.inRange=function(e,t,n){return t=jo(t),n===a?(n=t,t=0):n=jo(n),function(e,t,n){return e>=qn(t,n)&&e<Vn(t,n)}(e=zo(e),t,n)},pr.invoke=rc,pr.isArguments=_o,pr.isArray=mo,pr.isArrayBuffer=yo,pr.isArrayLike=Io,pr.isArrayLikeObject=vo,pr.isBoolean=function(e){return!0===e||!1===e||So(e)&&Xr(e)==W},pr.isBuffer=wo,pr.isDate=Co,pr.isElement=function(e){return So(e)&&1===e.nodeType&&!Eo(e)},pr.isEmpty=function(e){if(null==e)return!0;if(Io(e)&&(mo(e)||"string"==typeof e||"function"==typeof e.splice||wo(e)||Ro(e)||_o(e)))return!e.length;var t=Ga(e);if(t==$||t==ne)return!e.size;if($a(e))return!us(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0},pr.isEqual=function(e,t){return as(e,t)},pr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?as(e,t,a,n):!!r},pr.isError=To,pr.isFinite=function(e){return"number"==typeof e&&Hn(e)},pr.isFunction=ko,pr.isInteger=bo,pr.isLength=Ao,pr.isMap=Lo,pr.isMatch=function(e,t){return e===t||is(e,t,xa(t))},pr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,is(e,t,xa(t),n)},pr.isNaN=function(e){return Uo(e)&&e!=+e},pr.isNative=function(e){if(Ja(e))throw new Xe(o);return os(e)},pr.isNil=function(e){return null==e},pr.isNull=function(e){return null===e},pr.isNumber=Uo,pr.isObject=Mo,pr.isObjectLike=So,pr.isPlainObject=Eo,pr.isRegExp=Po,pr.isSafeInteger=function(e){return bo(e)&&e>=-F&&e<=F},pr.isSet=Oo,pr.isString=Fo,pr.isSymbol=No,pr.isTypedArray=Ro,pr.isUndefined=function(e){return e===a},pr.isWeakMap=function(e){return So(e)&&Ga(e)==ie},pr.isWeakSet=function(e){return So(e)&&Xr(e)==oe},pr.join=function(e,t){return null==e?"":zn.call(e,t)},pr.kebabCase=mc,pr.last=Ci,pr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==a&&(s=(s=Go(n))<0?Vn(r+s,0):qn(s,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):on(e,ln,s,!0)},pr.lowerCase=yc,pr.lowerFirst=Ic,pr.lt=xo,pr.lte=Do,pr.max=function(e){return e&&e.length?Hr(e,Uc,Zr):a},pr.maxBy=function(e,t){return e&&e.length?Hr(e,Na(t,2),Zr):a},pr.mean=function(e){return hn(e,Uc)},pr.meanBy=function(e,t){return hn(e,Na(t,2))},pr.min=function(e){return e&&e.length?Hr(e,Uc,hs):a},pr.minBy=function(e,t){return e&&e.length?Hr(e,Na(t,2),hs):a},pr.stubArray=Hc,pr.stubFalse=zc,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=Jc,pr.nth=function(e,t){return e&&e.length?_s(e,Go(t)):a},pr.noConflict=function(){return Ot._===this&&(Ot._=gt),this},pr.noop=Nc,pr.now=Xi,pr.pad=function(e,t,n){e=Vo(e);var r=(t=Go(t))?En(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return ma(Bn(s),n)+e+ma(Dn(s),n)},pr.padEnd=function(e,t,n){e=Vo(e);var r=(t=Go(t))?En(e):0;return t&&r<t?e+ma(t-r,n):e},pr.padStart=function(e,t,n){e=Vo(e);var r=(t=Go(t))?En(e):0;return t&&r<t?ma(t-r,n)+e:e},pr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Vo(e).replace(Ne,""),t||0)},pr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qa(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=jo(e),t===a?(t=e,e=0):t=jo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=Jn();return qn(e+s*(t-e+Lt("1e-"+((s+"").length-1))),t)}return ws(e,t)},pr.reduce=function(e,t,n){var r=mo(e)?tn:dn,s=arguments.length<3;return r(e,Na(t,4),n,s,Br)},pr.reduceRight=function(e,t,n){var r=mo(e)?nn:dn,s=arguments.length<3;return r(e,Na(t,4),n,s,jr)},pr.repeat=function(e,t,n){return t=(n?qa(e,t,n):t===a)?1:Go(t),Cs(Vo(e),t)},pr.replace=function(){var e=arguments,t=Vo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pr.result=function(e,t,n){var r=-1,s=(t=qs(t,e)).length;for(s||(s=1,e=a);++r<s;){var i=null==e?a:e[ui(t[r])];i===a&&(r=s,i=n),e=ko(i)?i.call(e):i}return e},pr.round=$c,pr.runInContext=e,pr.sample=function(e){return(mo(e)?kr:ks)(e)},pr.size=function(e){if(null==e)return 0;if(Io(e))return Fo(e)?En(e):e.length;var t=Ga(e);return t==$||t==ne?e.size:us(e).length},pr.snakeCase=vc,pr.some=function(e,t,n){var r=mo(e)?rn:Es;return n&&qa(e,t,n)&&(t=a),r(e,Na(t,3))},pr.sortedIndex=function(e,t){return Ps(e,t)},pr.sortedIndexBy=function(e,t,n){return Os(e,t,Na(n,2))},pr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ps(e,t);if(r<n&&fo(e[r],t))return r}return-1},pr.sortedLastIndex=function(e,t){return Ps(e,t,!0)},pr.sortedLastIndexBy=function(e,t,n){return Os(e,t,Na(n,2),!0)},pr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ps(e,t,!0)-1;if(fo(e[n],t))return n}return-1},pr.startCase=wc,pr.startsWith=function(e,t,n){return e=Vo(e),n=null==n?0:Fr(Go(n),0,e.length),t=Rs(t),e.slice(n,n+t.length)==t},pr.subtract=Yc,pr.sum=function(e){return e&&e.length?gn(e,Uc):0},pr.sumBy=function(e,t){return e&&e.length?gn(e,Na(t,2)):0},pr.template=function(e,t,n){var r=pr.templateSettings;n&&qa(e,t,n)&&(t=a),e=Vo(e),t=Ko({},t,r,ba);var s,i,o=Ko({},t.imports,r.imports,ba),c=sc(o),u=yn(o,c),l=0,h=t.interpolate||$e,f="__p += '",p=nt((t.escape||$e).source+"|"+h.source+"|"+(h===Se?He:$e).source+"|"+(t.evaluate||$e).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++bt+"]")+"\n";e.replace(p,function(t,n,r,a,o,c){return r||(r=a),f+=e.slice(l,c).replace(Ye,kn),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),o&&(i=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(i?f.replace(Ie,""):f).replace(ve,"$1").replace(we,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=bc(function(){return Ze(c,d+"return "+f).apply(a,u)});if(_.source=f,To(_))throw _;return _},pr.times=function(e,t){if((e=Go(e))<1||e>F)return[];var n=x,r=qn(e,x);t=Na(t),e-=x;for(var s=_n(r,t);++n<e;)t(n);return s},pr.toFinite=jo,pr.toInteger=Go,pr.toLength=Ho,pr.toLower=function(e){return Vo(e).toLowerCase()},pr.toNumber=zo,pr.toSafeInteger=function(e){return e?Fr(Go(e),-F,F):0===e?e:0},pr.toString=Vo,pr.toUpper=function(e){return Vo(e).toUpperCase()},pr.trim=function(e,t,n){if((e=Vo(e))&&(n||t===a))return e.replace(Fe,"");if(!e||!(t=Rs(t)))return e;var r=Pn(e),s=Pn(t);return Ks(r,vn(r,s),wn(r,s)+1).join("")},pr.trimEnd=function(e,t,n){if((e=Vo(e))&&(n||t===a))return e.replace(Re,"");if(!e||!(t=Rs(t)))return e;var r=Pn(e);return Ks(r,0,wn(r,Pn(t))+1).join("")},pr.trimStart=function(e,t,n){if((e=Vo(e))&&(n||t===a))return e.replace(Ne,"");if(!e||!(t=Rs(t)))return e;var r=Pn(e);return Ks(r,vn(r,Pn(t))).join("")},pr.truncate=function(e,t){var n=M,r=S;if(Mo(t)){var s="separator"in t?t.separator:s;n="length"in t?Go(t.length):n,r="omission"in t?Rs(t.omission):r}var i=(e=Vo(e)).length;if(bn(e)){var o=Pn(e);i=o.length}if(n>=i)return e;var c=n-En(r);if(c<1)return r;var u=o?Ks(o,0,c).join(""):e.slice(0,c);if(s===a)return u+r;if(o&&(c+=u.length-c),Po(s)){if(e.slice(c).search(s)){var l,h=u;for(s.global||(s=nt(s.source,Vo(ze.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;u=u.slice(0,f===a?c:f)}}else if(e.indexOf(Rs(s),c)!=c){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+r},pr.unescape=function(e){return(e=Vo(e))&&ke.test(e)?e.replace(Ce,On):e},pr.uniqueId=function(e){var t=++ht;return Vo(e)+t},pr.upperCase=Cc,pr.upperFirst=Tc,pr.each=Wi,pr.eachRight=Vi,pr.first=yi,Fc(pr,(Kc={},Qr(pr,function(e,t){lt.call(pr.prototype,t)||(Kc[t]=e)}),Kc),{chain:!1}),pr.VERSION="4.17.11",Qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pr[e].placeholder=pr}),Qt(["drop","take"],function(e,t){mr.prototype[e]=function(n){n=n===a?1:Vn(Go(n),0);var r=this.__filtered__&&!t?new mr(this):this.clone();return r.__filtered__?r.__takeCount__=qn(n,r.__takeCount__):r.__views__.push({size:qn(n,x),type:e+(r.__dir__<0?"Right":"")}),r},mr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Qt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==E||3==n;mr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Na(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Qt(["head","last"],function(e,t){var n="take"+(t?"Right":"");mr.prototype[e]=function(){return this[n](1).value()[0]}}),Qt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");mr.prototype[e]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(Uc)},mr.prototype.find=function(e){return this.filter(e).head()},mr.prototype.findLast=function(e){return this.reverse().find(e)},mr.prototype.invokeMap=Ts(function(e,t){return"function"==typeof e?new mr(this):this.map(function(n){return rs(n,e,t)})}),mr.prototype.reject=function(e){return this.filter(oo(Na(e)))},mr.prototype.slice=function(e,t){e=Go(e);var n=this;return n.__filtered__&&(e>0||t<0)?new mr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=Go(t))<0?n.dropRight(-t):n.take(t-e)),n)},mr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mr.prototype.toArray=function(){return this.take(x)},Qr(mr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=pr[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);s&&(pr.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,c=t instanceof mr,u=o[0],l=c||mo(t),h=function(e){var t=s.apply(pr,en([e],o));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=i&&!f,g=c&&!p;if(!i&&l){t=g?t:new mr(this);var _=e.apply(t,o);return _.__actions__.push({func:Bi,args:[h],thisArg:a}),new _r(_,f)}return d&&g?e.apply(this,o):(_=this.thru(h),d?r?_.value()[0]:_.value():_)})}),Qt(["pop","push","shift","sort","splice","unshift"],function(e){var t=at[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);pr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(mo(s)?s:[],e)}return this[n](function(n){return t.apply(mo(n)?n:[],e)})}}),Qr(mr.prototype,function(e,t){var n=pr[t];if(n){var r=n.name+"";(sr[r]||(sr[r]=[])).push({name:t,func:n})}}),sr[pa(a,y).name]=[{name:"wrapper",func:a}],mr.prototype.clone=function(){var e=new mr(this.__wrapped__);return e.__actions__=na(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=na(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=na(this.__views__),e},mr.prototype.reverse=function(){if(this.__filtered__){var e=new mr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=mo(e),r=t<0,s=n?e.length:0,a=function(e,t,n){for(var r=-1,s=n.length;++r<s;){var a=n[r],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=qn(t,e+i);break;case"takeRight":e=Vn(e,t-i)}}return{start:e,end:t}}(0,s,this.__views__),i=a.start,o=a.end,c=o-i,u=r?o:i-1,l=this.__iteratees__,h=l.length,f=0,p=qn(c,this.__takeCount__);if(!n||!r&&s==c&&p==c)return Gs(e,this.__actions__);var d=[];e:for(;c--&&f<p;){for(var g=-1,_=e[u+=t];++g<h;){var m=l[g],y=m.iteratee,I=m.type,v=y(_);if(I==P)_=v;else if(!v){if(I==E)continue e;break e}}d[f++]=_}return d},pr.prototype.at=ji,pr.prototype.chain=function(){return Di(this)},pr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===a&&(this.__values__=Bo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},pr.prototype.plant=function(e){for(var t,n=this;n instanceof gr;){var r=hi(n);r.__index__=0,r.__values__=a,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},pr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mr){var t=e;return this.__actions__.length&&(t=new mr(this)),(t=t.reverse()).__actions__.push({func:Bi,args:[Ai],thisArg:a}),new _r(t,this.__chain__)}return this.thru(Ai)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Gs(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,Dt&&(pr.prototype[Dt]=function(){return this}),pr}();Ot._=Fn,(s=function(){return Fn}.call(t,n,t,r))===a||(r.exports=s)}).call(this)}).call(this,n(30),n(31)(e))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),s=n(17),a=n(19),i=n(20),o=n(21),c=n(7);e.exports=function(e){return new Promise(function(t,u){var l=e.data,h=e.headers;r.isFormData(l)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",d=e.auth.password||"";h.Authorization="Basic "+btoa(p+":"+d)}if(f.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};s(t,u,r),f=null}},f.onerror=function(){u(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=n(22),_=(e.withCredentials||o(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;_&&(h[e.xsrfHeaderName]=_)}if("setRequestHeader"in f&&r.forEach(h,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),u(e),f=null)}),void 0===l&&(l=null),f.send(l)})}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n,s,a){var i=new Error(e);return r(i,t,n,s,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(32),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},r=n(25)+(new Date).getTime(),a=0,o=1,c=2,u=3,l=e.replace("ws:","http:").replace("wss:","https:");e===l&&(void 0===t?t={disableWebSocket:!0}:t.disableWebSocket=!0);var h=function(e){if(this.readyState!==a&&this.readyState!==o)return!1;var t=this;return i.default.post(l,e,{iflychat_token:r,content_type:"application/json"},function(e){e&&0!==e.length&&t.onmessage({data:e})}),!0},f={websocket:function(){var e=null;return(void 0===t||!t.disableWebSocket)&&(window.WebSocket&&(e=window.WebSocket),window.MozWebSocket&&-1===navigator.userAgent.indexOf("Firefox/6.0")&&(e=window.MozWebSocket),e?{heart:!0,transport:e}:null)},eventsource:function(){if(void 0!==t&&t.disableEventSource)return!1;if(!window.EventSource)return!1;var e=new window.EventSource(l);e.onopen=function(){n.readyState=o,n.onopen()},e.onmessage=function(e){n.onmessage(e)},e.onerror=function(){e.close(),e=void 0,n.onerror()};var n={readyState:a,send:h,close:function(){n.readyState=u,e.close(),e=void 0,n.onclose()}};return{heart:!1,transport:function(){return n}}},xhrPolling:function(){if(void 0!==t&&t.disableXHRPolling)return!1;var e,c=null;r=n(25)+(new Date).getTime();var f={readyState:a,send:h,close:function(){this.readyState=u,c&&(c.abort(),c=null),clearTimeout(e),f.onclose()},onopen:function(){},onmessage:function(){},onerror:function(){},onclose:function(){}};function p(){e=setTimeout(function(){c=i.default.get(l,function(e){if(e){if(c=null,f.readyState===a&&(f.readyState=o,f.onopen(f)),e&&0!==e.length)if("object"===(void 0===e?"undefined":s(e)))for(var t in e)f.onmessage({data:e[t]});else f.onmessage({data:e});f.readyState===o&&p()}else c=null,f.onerror()},{iflychat_token:r})},100)}return p(),{heart:!1,transport:function(){return f}}}},p=0;var d=new function(){var t,n,r=!0,s=u,i=80,l=80,h=1e4,g=!1;!function _(){if(r=!1,s=a,!(n=g?null:function(){var t=0;for(var n in f){if(p===t){var r=f[n]();if(r){var s=new r.transport(e);return s.heart=r.heart,s}p++}t++}return!1}()))return i=l,p=0,d&&d.ondisconnect(),!1;n.onopen=function(){i=l,n.heart&&(t=setInterval(function(){d.onheartbeat()},2e4)),s!==o&&(s=o,d.onopen(),g=!0)},n.onclose=function(){r||s===u||(n=null,clearInterval(t),s===c?(s=u,n=!1,d.onclose()):(s===a&&p++,(i*=2)>h&&(i=h),r=!0,setTimeout(function(){_()},i)))},n.onerror=n.onclose,n.onmessage=function(e){d.onmessage(e)}}(),this.onopen=function(){},this.onmessage=function(){},this.ondisconnect=function(){},this.onclose=function(){},this.onheartbeat=function(){},this.setURL=function(t){e=t},this.send=function(e){if(n){var t=n.send(e);return void 0===t||t}return!1},this.close=function(){s=c,n&&n.close()},this.transportType=p};return d}},function(e,t,n){"use strict";var r=n(34).default;e.exports=r},function(e,t,n){"use strict";var r=n(0),s=n(5),a=n(14),i=n(3);function o(e){var t=new a(e),n=s(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var c=o(i);c.Axios=a,c.create=function(e){return o(r.merge(i,e))},c.Cancel=n(9),c.CancelToken=n(28),c.isCancel=n(8),c.all=function(e){return Promise.all(e)},c.spread=n(29),e.exports=c,e.exports.default=c},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(3),s=n(0),a=n(23),i=n(24);function o(e){this.defaults=e,this.interceptors={request:new a,response:new a}}o.prototype.request=function(e){"string"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),(e=s.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},s.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,n){return this.request(s.merge(n||{},{method:e,url:t}))}}),s.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,r){return this.request(s.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=o},function(e,t){var n,r,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var e=o(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||o(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e}},function(e,t,n){"use strict";var r=n(0);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var i=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))}))}),a=i.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){"use strict";var r=n(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,i={};return e?(r.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=r.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,s,a,i){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(s)&&o.push("path="+s),r.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},function(e,t,n){"use strict";var r=n(0),s=n(25),a=n(8),i=n(3),o=n(26),c=n(27);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!o(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=s(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return!!(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&parseInt(e.substring(t+5,e.indexOf(".",t)))};e.exports={post:function(e,t,n,a){var i=!1;s()&&window.XDomainRequest;var o=new XMLHttpRequest;o.open("POST",e,!0),o.withCredentials=!0,"application/x-www-form-urlencoded"===n?o.setRequestHeader("Content-type",n):"object"===(void 0===n?"undefined":r(n))?(o.setRequestHeader("Content-type",n.content_type),o.setRequestHeader("X-CSRF-TOKEN",n.csrf_token),n.access_token&&o.setRequestHeader("X-Access-Token",n.access_token),n.iflychat_token&&o.setRequestHeader("iflychat-token",n.iflychat_token),"string"!=typeof t&&"application/json"===n.content_type&&(t=JSON.stringify(t))):(o.setRequestHeader("Content-type","application/json"),"string"!=typeof t&&(t=JSON.stringify(t))),o.ontimeout=function(){i||(i=!0,a(!1))},o.timeout=5e4,o.onerror=function(){i||(i=!0,a(!1))},o.send(t),o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300)try{var e=JSON.parse(o.responseText);i||(i=!0,a(e))}catch(e){i||(i=!0,a("invalidTokenJSON"))}else 4===o.readyState&&(i||(i=!0,a(!1)))},o.onloadend=function(){}},get:function(e,t,n){var a=!1;s()&&window.XDomainRequest;var i=new XMLHttpRequest;i.open("GET",e),i.withCredentials=!0,"object"===(void 0===n?"undefined":r(n))&&(n.iflychat_token&&i.setRequestHeader("iflychat-token",n.iflychat_token),i.setRequestHeader("x-csrf-token",n.csrf_token)),i.ontimeout=function(){a||(a=!0,t(!1))},i.onerror=function(){a||(a=!0,t(!1))},i.timeout=2e5,i.send(),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){var e=JSON.parse(i.responseText);a=!0,t(e)}else 4===i.readyState&&(a||(a=!0,t(!1)))},i.onloadend=function(){}}}},function(e,t,n){"use strict";e.exports={SYNC_STATE:{NEW:"NEW",SAVING:"SAVING",SYNCING:"SYNCING",SYNCED:"SYNCED",LOADING:"LOADING"},RECIPIENT_STATE:{NONE:"NONE",SOME:"SOME",ALL:"ALL"},RECEIPT_STATE:{SENT:"sent",DELIVERED:"delivered",READ:"read",PENDING:"pending"},LOCALSTORAGE_KEYS:{SESSIONDATA:"iflychat-session-data-"},ACCEPT:"application/vnd.iflychat+json; version=2.0",WEBSOCKET_PROTOCOL:"iflychat-2.0",LOG:{DEBUG:4,INFO:3,WARN:2,ERROR:1,NONE:0},DELETION_MODE:{ALL:"all_participants",MY_DEVICES:"my_devices"},TYPING_STATE:{STARTED:"started",PAUSED:"paused",FINISHED:"finished"}}},function(e,t,n){"use strict";n.r(t);class r{constructor(e){this.events={}}on(e,t){(this.events[e]||(this.events[e]=[])).push(t)}off(e,t){this.events[e]&&this.events[e].splice(this.events[e].indexOf(t)>>>0,1)}emit(e,t){(this.events[e]||[]).slice().map(e=>{e(t)}),(this.events["*"]||[]).slice().map(n=>{n(e,t)})}}var s,a,i,o,c,u,l,h,f,p,d,g,_,m,y,I,v,w,C=n(1),T=n.n(C);class k{constructor(e){e.appId&&(this.id=e.appId),e.id&&(this.id=e.id),e.name&&(this.name=e.name)}}class b{constructor(e,t){this.avatarUploadUrl="",this.id="",this.displayName="",this.firstName="",this.lastName="",this.email="",this.phoneNumber="",this.profileUrl="",this.avatarUrl="",this.lastSeen=0,this.isSuspended=!1,this.checkAccessToken=!1,this.data="",this.metadata={},!1===t||void 0===t?(e.id&&(this.id=e.id),e.display_name&&(this.displayName=e.display_name),e.first_name&&(this.firstName=e.first_name),e.last_name&&(this.lastName=e.last_name),e.email&&(this.email=e.email),e.phone_number&&(this.phoneNumber=e.phone_number),e.profile_url&&(this.profileUrl=e.profile_url),e.avatar_url&&(this.avatarUrl=e.avatar_url),e.avatar_upload_url&&(this.avatarUploadUrl=e.avatar_upload_url),e.last_seen?this.lastSeen=e.last_seen:this.lastSeen=0,e.is_suspended&&(this.isSuspended=e.is_suspended),e.check_access_token&&(this.checkAccessToken=e.check_access_token),e.access_token&&(this.accessToken=e.access_token),e.metadata&&(this.metadata=e.metadata),e.is_online?this.isOnline=e.is_online:this.isOnline=!1,e.data&&(this.data=e.data)):t&&(e.id&&(this.id=e.id),e.displayName&&(this.displayName=e.displayName),e.firstName&&(this.firstName=e.firstName),e.lastName&&(this.lastName=e.lastName),e.email&&(this.email=e.email),e.phoneNumber&&(this.phoneNumber=e.phoneNumber),e.profileUrl&&(this.profileUrl=e.profileUrl),e.avatarUrl&&(this.avatarUrl=e.avatarUrl),e.avatarUploadUrl&&(this.avatarUploadUrl=e.avatarUploadUrl),e.lastSeen?this.lastSeen=e.lastSeen:this.lastSeen=0,e.isSuspended&&(this.isSuspended=e.isSuspended),e.checkAccessToken&&(this.checkAccessToken=e.checkAccessToken),e.accessToken&&(this.accessToken=e.accessToken),e.metadata&&(this.metadata=e.metadata),e.isOnline?this.isOnline=e.isOnline:this.isOnline=!1,e.data&&(this.data=e.data))}getId(){return this.id}getDisplayName(){return this.displayName}getData(){return this.data}getAvatarUrl(){return this.avatarUrl}getLastSeen(){return this.lastSeen}ifOnline(){return this.isOnline}getMetadata(){return this.metadata}getProfileUrl(){return this.profileUrl}getSerializedObject(){return JSON.parse(JSON.stringify(this))}static createFromSerializedObject(e){return new b(e,!0)}}class A{constructor(e,t){!1===t||void 0===t?(this.width=e.width,this.height=e.height,this.originalWidth=e.original_width,this.originalHeight=e.original_height,this.url=e.url,this.checkSessionKey=e.check_session_key):t&&(this.width=e.width,this.height=e.height,this.originalWidth=e.originalWidth,this.originalHeight=e.originalHeight,this.url=e.url,this.checkSessionKey=e.checkSessionKey)}getUrl(){let e="";return this.checkSessionKey&&(e="?session_key="+fe.getInstance().sessionKey),this.url+e}getWidth(){return this.width}getHeight(){return this.height}getOriginalWidth(){return this.originalWidth}getOriginalHeight(){return this.originalHeight}}class M{constructor(e,t){if(!1===t||void 0===t){if(this.thumbnails=[],this.url=e.url,this.name=e.name,this.type=e.type,this.checkSessionKey=e.check_session_key,e.thumbnails)for(let t in e.thumbnails)this.thumbnails[t]=new A(e.thumbnails[t])}else if(!0===t&&(this.thumbnails=[],this.url=e.url,this.name=e.name,this.type=e.type,this.checkSessionKey=e.checkSessionKey,e.thumbnails))for(let t in e.thumbnails)this.thumbnails[t]=new A(e.thumbnails[t],!0)}getType(){return this.type}getName(){return this.name}getUrl(){let e="";return this.checkSessionKey&&(e="?session_key="+fe.getInstance().sessionKey),this.url+e}getThumbnails(){return this.thumbnails}}class S{constructor(e,t){!1===t||void 0===t?(this.id=e.id,this.type=e.type,this.channelId=e.channel_id,this.channelType=e.channel_type,"attachment"===e.type?this.attachment=new M(e.attachment):this.text=e.text,e.custom_filter?this.customFilter=e.custom_filter:this.customFilter=[],e.metadata?this.metadata=e.metadata:this.metadata={},"announcement"!==e.type&&(this.user=new b(e.user)),this.insertedAt=e.inserted_at,this.updatedAt=0,e.updated_at&&(this.updatedAt=e.updated_at)):!0===t&&(this.id=e.id,this.type=e.type,this.channelId=e.channelId,this.channelType=e.channelType,"attachment"===e.type?this.attachment=new M(e.attachment,!0):this.text=e.text,e.customFilter?this.customFilter=e.customFilter:this.customFilter=[],e.metadata?this.metadata=e.metadata:this.metadata={},"announcement"!==e.type&&(this.user=new b(e.user,!0)),this.insertedAt=e.insertedAt,this.updatedAt=0,e.updatedAt&&(this.updatedAt=e.updatedAt))}getId(){return this.id}getText(){return this.text}getType(){return this.type}getChannelType(){return this.channelType}getChannelId(){return this.channelId}getInsertedAt(){return this.insertedAt}getUser(){return this.user}getAttachment(){return this.attachment}getCustomFilter(){return this.customFilter}getMetadata(){return this.metadata}getSerializedObject(){return JSON.parse(JSON.stringify(this))}static createFromSerializedObject(e){return new S(e,!0)}}class L{constructor(e,t){this.width=e,this.height=t}}class U{constructor(){}setCustomFilter(e){this.customFilter=e}setData(e){this.data=e}setMetadata(e){this.metadata=e}setText(e){this.text=e}setThumbnailDimensions(e){this.thumbnailDimensions=e}setAttachment(e){this.attachment=e}getCustomFilter(){return this.customFilter}getData(){return this.data}getMetadata(){return this.metadata}getText(){return this.text}getThumbnailDimensions(){return this.thumbnailDimensions}getAttachment(){return this.attachment}}class E{constructor(e){this.code=e.code,this.message=e.message}getMessage(){return this.message}getCode(){return this.code}}!function(e){e.PARTICIPANT_STATE_ALL="ALL",e.PARTICIPANT_STATE_INVITED="INVITED",e.PARTICIPANT_STATE_ACCEPTED="ACCEPTED",e.RECENT_CHAT="RECENT_CHAT",e.CHRONOLOGICAL="CHRONOLOGICAL",e.ALPHABETICAL="ALPHABETICAL",e.QUERY_TYPE_AND="AND",e.QUERY_TYPE_OR="OR"}(s||(s={})),function(e){e.AND="AND",e.OR="OR"}(a||(a={})),function(e){e.ALL="ALL",e.VIEW_ONLY="VIEW_ONLY",e.WRITE_AND_VIEW="WRITE_AND_VIEW"}(i||(i={})),function(e){e.ALL="ALL",e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(o||(o={})),function(e){e.ALL="All",e.TRUE="TRUE",e.FALSE="FALSE"}(c||(c={})),function(e){e.RECENT_CHAT="RECENT_CHAT",e.CHRONOLOGICAL="CHRONOLOGICAL",e.ALPHABETICAL="ALPHABETICAL"}(u||(u={})),function(e){e.PARTICIPANT_STATE_ALL="ALL",e.PARTICIPANT_STATE_INVITED="INVITED",e.PARTICIPANT_STATE_ACCEPTED="ACCEPTED"}(l||(l={})),function(e){e.ALL="All",e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"}(h||(h={}));class P{constructor(){this.participantStateFilter=l.PARTICIPANT_STATE_ALL,this.limit=20,this.order=u.RECENT_CHAT,this.includeEmpty=!0}setActiveFilter(e){this.activeFilter=e}setChannelIdsFilter(e){this.channelIdsFilter=e}setChannelNameSearch(e){this.channelNameSearch=e}setCustomFilter(e){this.customFilter=e}setCustomFilterQueryType(e){this.customFilterQueryType=e}setCustomFilterSearch(e){this.customFilterSearch=e}setIncludeEmpty(e){this.includeEmpty=e}setIsDistinctFilter(e){this.isDistinctFilter=e}setLimit(e){this.limit=e}setOrder(e){this.order=e}setReference(e){this.reference=e}setParticipantState(e){this.participantStateFilter=e}setPublicFilter(e){this.publicFilter=e}setUserIdsAllFilter(e){this.userIdsAllFilter=e}setUserIdsFilterSearch(e){this.userIdsFilterSearch=e}setUserNameSearch(e){this.userNameSearch=e}setViewOnlyFilter(e){this.viewOnlyFilter=e}setUserIdsFilterSearchQueryType(e){this.userIdsFilterSearchQueryType=e}load(e){let t={participant_state_filter:this.participantStateFilter,limit:this.limit,order:this.order};this.activeFilter&&(t.active_filter=this.activeFilter),this.channelIdsFilter&&(t.channel_ids_filter=this.channelIdsFilter),this.channelNameSearch&&(t.channel_name_search=this.channelNameSearch),this.customFilter&&(t.custom_filter=this.customFilter),this.customFilterQueryType&&(t.custom_filter_query_type=this.customFilterQueryType),this.customFilterSearch&&(t.custom_filter_search=this.customFilterSearch),this.includeEmpty?t.include_empty=this.includeEmpty:t.include_empty=!1,this.isDistinctFilter&&(t.is_distinct_filter=this.isDistinctFilter),this.publicFilter&&(t.public_filter=this.publicFilter),this.reference&&(t.reference=this.reference),this.userIdsAllFilter&&(t.user_ids_all_filter=this.userIdsAllFilter),this.userIdsFilterSearch&&(t.user_ids_filter_search=this.userIdsFilterSearch),this.userIdsFilterSearchQueryType&&(t.user_ids_filter_search_query_type=this.userIdsFilterSearchQueryType),this.userNameSearch&&(t.user_name_search=this.userNameSearch),this.viewOnlyFilter&&(t.view_only_filter=this.viewOnlyFilter),t.get_participants=!0,t.get_read_receipt=!0;let n=fe.getInstance().transportManager.send({t:"group_channels.my_list",d:t}),r=t=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),e(null,t)),s=t=>{let a=new E(t);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}}!function(e){e.AND="AND",e.OR="OR"}(f||(f={})),function(e){e.ALL="ALL",e.VIEW_ONLY="VIEW_ONLY",e.WRITE_AND_VIEW="WRITE_AND_VIEW"}(p||(p={})),function(e){e.ALL="ALL",e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(d||(d={})),function(e){e.ALL="All",e.TRUE="TRUE",e.FALSE="FALSE"}(g||(g={})),function(e){e.RECENT_CHAT="RECENT_CHAT",e.CHRONOLOGICAL="CHRONOLOGICAL",e.ALPHABETICAL="ALPHABETICAL"}(_||(_={}));class O{constructor(){this.limit=20,this.order=_.RECENT_CHAT,this.includeEmpty=!0}setActiveFilter(e){this.activeFilter=e}setChannelIdsFilter(e){this.channelIdsFilter=e}setChannelNameSearch(e){this.channelNameSearch=e}setCustomFilter(e){this.customFilter=e}setCustomFilterQueryType(e){this.customFilterQueryType=e}setCustomFilterSearch(e){this.customFilterSearch=e}setIncludeEmpty(e){this.includeEmpty=e}setIsDistinctFilter(e){this.isDistinctFilter=e}setLimit(e){this.limit=e}setOrder(e){this.order=e}setReference(e){this.reference=e}setUserIdsAllFilter(e){this.userIdsAllFilter=e}setUserIdsFilterSearch(e){this.userIdsFilterSearch=e}setUserNameSearch(e){this.userNameSearch=e}setViewOnlyFilter(e){this.viewOnlyFilter=e}setUserIdsFilterSearchQueryType(e){this.userIdsFilterSearchQueryType=e}load(e){let t={limit:this.limit,order:this.order};this.activeFilter&&(t.active_filter=this.activeFilter),this.channelIdsFilter&&(t.channel_ids_filter=this.channelIdsFilter),this.channelNameSearch&&(t.channel_name_search=this.channelNameSearch),this.customFilter&&(t.custom_filter=this.customFilter),this.customFilterQueryType&&(t.custom_filter_query_type=this.customFilterQueryType),this.customFilterSearch&&(t.custom_filter_search=this.customFilterSearch),this.includeEmpty?t.include_empty=this.includeEmpty:t.include_empty=!1,this.isDistinctFilter&&(t.is_distinct_filter=this.isDistinctFilter),this.reference&&(t.reference=this.reference),this.userIdsAllFilter&&(t.user_ids_all_filter=this.userIdsAllFilter),this.userIdsFilterSearch&&(t.user_ids_filter_search=this.userIdsFilterSearch),this.userIdsFilterSearchQueryType&&(t.user_ids_filter_search_query_type=this.userIdsFilterSearchQueryType),this.userNameSearch&&(t.user_name_search=this.userNameSearch),this.viewOnlyFilter&&(t.view_only_filter=this.viewOnlyFilter),t.get_participants=!0,t.get_read_receipt=!0;let n=fe.getInstance().transportManager.send({t:"group_channels.list",d:t}),r=t=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),e(null,t)),s=t=>{let a=new E(t);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}}!function(e){e.SORT_BY_INSERTED_AT="INSERTED_AT",e.SORT_BY_UPDATED_AT="UPDATED_AT"}(m||(m={})),function(e){e.AND="AND",e.OR="OR"}(y||(y={})),function(e){e.PREVIOUS="previous",e.NEXT="next"}(I||(I={}));class F{constructor(e){this.limit=20,this.channel=e,this.sortBy=m.SORT_BY_INSERTED_AT}setCustomFilter(e){this.customFilter=e}setCustomFilterQueryType(e){this.customFilterQueryType=e}setDirection(e){this.direction=e}setLimit(e){this.limit=e}setMessageTypeFilter(e){this.messageTypeFilter=e}setMessageTypeFilterQueryType(e){this.messageTypeFilterQueryType=e}setReference(e){this.reference=e}setSortBy(e){this.sortBy=e}setTextSearch(e){this.textSearch=e}setTimestamp(e){this.timestamp=e}setUserId(e){this.userId=e}load(e){let t,n;n={id:this.channel.getId(),limit:this.limit,sort_by:this.sortBy},this.reference&&(n.reference=this.reference),this.customFilter&&(n.custom_filter=this.customFilter),this.customFilterQueryType&&(n.custom_filter_query_type=this.customFilterQueryType),this.direction&&(n.direction=this.direction),this.messageTypeFilter&&(n.message_type_filter=this.messageTypeFilter),this.messageTypeFilterQueryType&&(n.message_type_filter_query_type=this.messageTypeFilterQueryType),this.textSearch&&(n.text_search=this.textSearch),this.timestamp&&(n.timestamp=this.timestamp),this.userId&&(n.user_id=this.userId),t=fe.getInstance().transportManager.send({t:this.channel.getType()+"_channels.history",d:n});let r=n=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(null,n)),s=n=>{let a=new E(n);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",r),fe.getInstance().on("to."+t+".error",s),!0}count(e){let t;t=fe.getInstance().transportManager.send({t:this.channel.getType()+"_channels.messages_count",d:{id:this.channel.getId(),limit:this.limit,reference:this.reference,sort_by:this.sortBy}});let n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null,s)),r=s=>{let a=new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}}class N extends b{constructor(e,t){super(e,t),!1===t||void 0===t?(this.isBlockedByMe=!1,this.isBlockingMe=!1,this.isModerator=!1,e.status&&(this.status=e.status),e.is_blocked_by_me&&(this.isBlockedByMe=e.is_blocked_by_me),e.is_blocking_me&&(this.isBlockingMe=e.is_blocking_me),e.is_moderator&&(this.isModerator=e.is_moderator)):t&&(this.isBlockedByMe=!1,this.isBlockingMe=!1,this.isModerator=!1,e.status&&(this.status=e.status),e.isBlockedByMe&&(this.isBlockedByMe=e.isBlockedByMe),e.isBlockingMe&&(this.isBlockingMe=e.isBlockingMe),e.isModerator&&(this.isModerator=e.isModerator))}ifModerator(){return this.isModerator}ifBlockingMe(){return this.isBlockingMe}ifBlockedByMe(){return this.isBlockedByMe}getInvitationState(){}getSerializedObject(){return JSON.parse(JSON.stringify(this))}static createFromSerializedObject(e){return new N(e,!0)}}!function(e){e.BANNED="BANNED",e.ALL="ALL",e.MUTED="MUTED",e.MODERATOR="MODERATOR"}(v||(v={}));class R{constructor(e,t){this.limit=20,this.channel=t,this.type=e}setLimit(e){this.limit=e}setReference(e){this.reference=e}load(e){let t,n;this.type===v.ALL?n=this.channel.getType()+"_channels.participants_list":this.type===v.BANNED?n=this.channel.getType()+"_channels.ban_list":this.type===v.MUTED?n=this.channel.getType()+"_channels.mute_list":this.type===v.MODERATOR&&(n=this.channel.getType()+"_channels.moderators_list"),t=fe.getInstance().transportManager.send({t:n,d:{id:this.channel.id,limit:this.limit,reference:this.reference}});let r=n=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),n.length>0&&(this.reference=n[n.length-1].id),e(null,n)),s=n=>{let a=new E(n);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",r),fe.getInstance().on("to."+t+".error",s),!0}}class x{constructor(){this.customFilter=[],this.customFilterQueryType="OR"}setPublicFilter(e){this.publicFilter=e}setCustomFilter(e){this.customFilter=e}setCustomFilterQueryType(e){this.customFilterQueryType=e}getPublicFilter(){return this.publicFilter}getCustomFilter(){return this.customFilter}getCustomFilterQueryType(){return this.customFilterQueryType}}!function(e){e.OPEN="open",e.GROUP="group"}(w||(w={}));class D{constructor(e,t){this.customFilter=[],!1===t||void 0===t?(e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.data&&(this.data=e.data),e.avatar_url&&(this.avatarUrl=e.avatar_url),e.avatar_url_check_session_key&&(this.avatarUrlCheckSessionKey=e.avatar_url_check_session_key),e.metadata&&(this.metadata=e.metadata),e.updated_at&&(this.updatedAt=e.updated_at),e.inserted_at&&(this.insertedAt=e.inserted_at),e.custom_filter&&(this.customFilter=e.custom_filter),e.is_view_only?this.isViewOnly=e.is_view_only:this.isViewOnly=!1,e.is_active?this.isActive=e.is_active:this.isActive=!1,e.participants_count?this.participantsCount=e.participants_count:this.participantsCount=0,e.is_muted_for_me?this.isMutedForMe=e.is_muted_for_me:this.isMutedForMe=!1,e.is_read_only?this.isReadOnly=e.is_read_only:this.isReadOnly=!1,e.is_moderator?this.isModerator=e.is_moderator:this.isModerator=!1):t&&(e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.data&&(this.data=e.data),e.avatarUrl&&(this.avatarUrl=e.avatarUrl),e.avatarUrlCheckSessionKey&&(this.avatarUrlCheckSessionKey=e.avatarUrlCheckSessionKey),e.metadata&&(this.metadata=e.metadata),e.updatedAt&&(this.updatedAt=e.updatedAt),e.insertedAt&&(this.insertedAt=e.insertedAt),e.customFilter&&(this.customFilter=e.customFilter),e.isViewOnly?this.isViewOnly=e.isViewOnly:this.isViewOnly=!1,e.isActive?this.isActive=e.isActive:this.isActive=!1,e.participantsCount?this.participantsCount=e.participantsCount:this.participantsCount=0,e.isMutedForMe?this.isMutedForMe=e.isMutedForMe:this.isMutedForMe=!1,e.isReadOnly?this.isReadOnly=e.isReadOnly:this.isReadOnly=!1,e.isModerator?this.isModerator=e.isModerator:this.isModerator=!1)}getAvatarUrl(){let e="";return this.avatarUrl?(this.avatarUrlCheckSessionKey&&(e="?session_key="+fe.getInstance().sessionKey),this.avatarUrl+e):this.avatarUrl}getType(){return this.ifGroupChannel()?w.GROUP:w.OPEN}getCustomFilter(){return this.customFilter}ifGroupChannel(){return this instanceof V}ifOpenChannel(){return!this.ifGroupChannel()}getId(){return this.id}getName(){return this.name}getParticipantsCount(){return this.participantsCount}getMetadata(){return this.metadata}ifModerator(e){return this.isModerator}ifMuted(){return this.isMutedForMe}ifReadOnly(){return this.isReadOnly}sendMessage(e,t,n,r){let s=new U;return r?(s.setText(e),s.setMetadata(t),s.setCustomFilter(n),this._sendMessage(s,r)):n?(s.setText(e),s.setMetadata(t),this._sendMessage(s,n)):!!t&&(e instanceof U?this._sendMessage(e,t):(s.setText(e),this._sendMessage(s,t)))}_sendMessage(e,t){let n={id:this.id,type:"text"};n.text=e instanceof U?e.text:e,e.metadata&&(n.metadata=e.metadata),e.customFilter&&(n.custom_filter=e.customFilter),e.data&&(n.data=e.data);let r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.message",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};return fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a),!0}sendAttachment(e,t,n){let r,s=[],a={id:this.id,type:"attachment"};e instanceof File?r=e:e instanceof U&&(r=e.getAttachment(),s=e.getThumbnailDimensions(),e.metadata&&(a.metadata=e.metadata),e.customFilter&&(a.custom_filter=e.customFilter),e.data&&(a.data=e.data)),fe.getInstance()._uploadAttachment({file:r,channelType:this.getType()+"_channel",channelId:this.id,thumbnails:s},t,(e,t)=>{if(e)return n(e,null);a.attachment=t;let r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.message",d:a}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",i)},0),n(null,e)),i=e=>{let t=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",i)},0),n(t,null)};return fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",i),!0})}updateMetadata(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.update",d:{id:this.id,metadata:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{let a=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(a,null)};fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s)}addModerator(e,t){return this._addModerators([e],t)}addModerators(e,t){return this._addModerators(e,t)}_addModerators(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.moderators_add",d:{id:this.id,moderator_ids:e}}),r=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}removeModerator(e,t){return this._removeModerators([e],t)}removeModerators(e,t){return this._removeModerators(e,t)}_removeModerators(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.moderators_remove",d:{id:this.id,moderator_ids:e}}),r=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}banParticipant(e,t,n,r){let s=t,a={id:this.id,participant_id:e};"function"==typeof r?(s=r,a.duration=t,a.data=n):"function"==typeof n&&(s=n,a.duration=t);let i=fe.getInstance().transportManager.send({t:this.getType()+"_channels.ban",d:a}),o=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+i+".success",o),fe.getInstance().off("to."+i+".error",c)},0),s(null)),c=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+i+".success",o),fe.getInstance().off("to."+i+".error",c)},0),s(e)};return fe.getInstance().on("to."+i+".success",o),fe.getInstance().on("to."+i+".error",c),!0}unbanParticipant(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.unban",d:{id:this.id,participant_id:e}}),r=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}muteParticipant(e,t,n,r){let s=t,a={id:this.id,participant_id:e};"function"==typeof r?(s=r,a.duration=t,a.data=n):"function"==typeof n&&(s=n,a.duration=t);let i=fe.getInstance().transportManager.send({t:this.getType()+"_channels.mute",d:a}),o=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+i+".success",o),fe.getInstance().off("to."+i+".error",c)},0),s(null,e)),c=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+i+".success",o),fe.getInstance().off("to."+i+".error",c)},0),s(e,null)};return fe.getInstance().on("to."+i+".success",o),fe.getInstance().on("to."+i+".error",c),!0}unmuteParticipant(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.unmute",d:{id:this.id,participant_id:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e,null)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}createBannedParticipantListQuery(){return new R(v.BANNED,this)}createMutedParticipantListQuery(){return new R(v.MUTED,this)}createModeratorListQuery(){return new R(v.MODERATOR,this)}createParticipantListQuery(){return new R(v.ALL,this)}getMessage(e,t){let n={id:this.id,message_id:e},r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.message_get",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}updateMessage(e,t,n){let r={id:this.id,message_id:e};t.getCustomFilter()&&(r.custom_filter=t.getCustomFilter()),t.getData()&&(r.data=t.getData()),t.getMetadata()&&(r.metadata=t.getMetadata()),t.getText()&&(r.text=t.getText());let s=fe.getInstance().transportManager.send({t:this.getType()+"_channels.message_update",d:r}),a=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(null,e)),i=e=>{let t=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(t,null)};fe.getInstance().on("to."+s+".success",a),fe.getInstance().on("to."+s+".error",i)}deleteMessage(e,t){let n={id:this.id,message_id:e},r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.message_delete",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}setViewOnly(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.view_only",d:{id:this.id,is_view_only:e}}),r=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}setActive(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.active",d:{id:this.id,is_active:e}}),r=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}clearHistory(e){let t=fe.getInstance().transportManager.send({t:this.getType()+"_channels.clear_history",d:{id:this.id}}),n=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}delete(e){let t=fe.getInstance().transportManager.send({t:this.getType()+"_channels.delete",d:{id:this.id}}),n=()=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}join(e){let t=fe.getInstance().transportManager.send({t:this.getType()+"_channels.join",d:{id:this.id}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}leave(e){let t=fe.getInstance().transportManager.send({t:this.getType()+"_channels.leave",d:{id:this.id}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}getBannedParticipant(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.ban_get",d:{id:this.id,participant_id:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e,null)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}getMutedParticipant(e,t){let n=fe.getInstance().transportManager.send({t:this.getType()+"_channels.mute_get",d:{id:this.id,participant_id:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e,null)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}getTotalMessageCount(e,t){"object"==typeof t?this._getTotalMessageCount(e,t):this._getTotalMessageCount(new x,e)}_getTotalMessageCount(e,t){let n={id:this.id},r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.messages_count",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(e,null)};return fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a),!0}getData(){return this.data}ifViewOnly(){return this.isViewOnly}ifActive(){return this.isActive}}class B{constructor(){}setName(e){this.name=e}getName(){return this.name}setAvatarUrl(e){this.avatarUrl=e}getAvatarUrl(){return this.avatarUrl}setAvatarFile(e){this.avatarFile=e}getAvatarFile(){return this.avatarFile}setModeratorIds(e){this.moderatorIds=e}getModeratorIds(){return this.moderatorIds}setCustomFilter(e){this.customFilter=e}setData(e){this.data=e}setMetadata(e){this.metadata=e}getCustomFilter(){return this.customFilter}getData(){return this.data}getMetadata(){return this.metadata}}class j extends B{constructor(){super(),this.isDistinct=!1}setParticipantIds(e){this.participantIds=e}getParticipantIds(){return this.participantIds}setPublic(e){this.isPublic=e}getPublic(){return this.isPublic}setDistinct(e){this.isDistinct=e}getDistinct(){return this.isDistinct}}var G,H,z,W=n(4);class V extends D{constructor(e,t){if(super(e,t),this.unreadMessageCount=0,!1===t||void 0===t){if(e.participants){this.participants=[];for(let t in e.participants)this.participants.push(new N(e.participants[t]))}e.unread_message_count?this.unreadMessageCount=e.unread_message_count:this.unreadMessageCount=0,Object(W.isEmpty)(e.last_message)?this.lastMessage=null:this.lastMessage=new S(e.last_message),e.is_distinct?this.isDistinct=e.is_distinct:this.isDistinct=!1,e.read_receipt&&(this.readReceipt=e.read_receipt),e.is_archived?this.archived=e.is_archived:this.archived=!1,e.my_status?this.myStatus=e.my_status:this.myStatus="NONE",e.is_public?this.isPublic=!0:this.isPublic=!1,e.is_flexible?this.isFlexible=!0:this.isFlexible=!1,this.cachedParticipantsTypingStatus={},this.lastStartTyping=0,this.lastStopTyping=0,e.cached_participants_typing_status&&(this.cachedParticipantsTypingStatus=e.cached_participants_typing_status),e.last_start_typing&&(this.lastStartTyping=e.last_start_typing),e.last_stop_typing&&(this.lastStopTyping=e.last_stop_typing)}else if(t){if(e.participants){this.participants=[];for(let t in e.participants)this.participants.push(new N(e.participants[t],!0))}e.unreadMessageCount?this.unreadMessageCount=e.unreadMessageCount:this.unreadMessageCount=0,Object(W.isEmpty)(e.lastMessage)?this.lastMessage=null:this.lastMessage=new S(e.lastMessage,!0),e.isDistinct?this.isDistinct=e.isDistinct:this.isDistinct=!1,e.readReceipt&&(this.readReceipt=e.readReceipt),e.isArchived?this.archived=e.isArchived:this.archived=!1,e.myStatus?this.myStatus=e.myStatus:this.myStatus="NONE",e.isPublic?this.isPublic=!0:this.isPublic=!1,e.isFlexible?this.isFlexible=!0:this.isFlexible=!1,this.cachedParticipantsTypingStatus={},this.lastStartTyping=0,this.lastStopTyping=0,e.cachedParticipantsTypingStatus&&(this.cachedParticipantsTypingStatus=e.cachedParticipantsTypingStatus),e.lastStartTyping&&(this.lastStartTyping=e.lastStartTyping),e.lastStopTyping&&(this.lastStopTyping=e.lastStopTyping)}}static create(){if(2==arguments.length)this._create(arguments[0],arguments[1]);else if(4==arguments.length){if("string"==typeof arguments[0]&&"object"==typeof arguments[1]&&(arguments[2],1)&&(arguments[3],1)){let e=new j;e.setName(arguments[0]),e.setParticipantIds(arguments[1]),e.setDistinct(arguments[2]),this._create(e,arguments[3])}}else if(5===arguments.length&&"string"==typeof arguments[0]&&"object"==typeof arguments[1]&&(arguments[2],1)&&"object"==typeof arguments[1]&&(arguments[4],1)){let e=new j;e.setName(arguments[0]),e.setParticipantIds(arguments[1]),e.setDistinct(arguments[2]),e.setCustomFilter(arguments[3]),this._create(e,arguments[4])}}static _create(e,t){let n={};e.getName()&&(n.name=e.getName()),e.getParticipantIds()&&(n.participant_ids=e.getParticipantIds()),e.getCustomFilter()&&(n.custom_filter=e.getCustomFilter()),e.getData()&&(n.data=e.getData()),e.getMetadata()&&(n.metadata=e.getMetadata()),e.getAvatarUrl()&&(n.avatar_url=e.getAvatarUrl()),e.getModeratorIds()&&(n.moderator_ids=e.getModeratorIds()),e.getPublic()&&(n.is_public=e.getPublic()),e.getAvatarFile()&&(n.avatar_file=e.getAvatarFile()),n.is_distinct=e.getDistinct();let r=fe.getInstance().transportManager.send({t:"group_channels.create",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}static _upsert(e){let t=new V(e);V.cachedChannels[t.getId()]=t}static get(e,t){return V.cachedChannels&&V.cachedChannels[e]?t(null,V.cachedChannels[e]):this._getFromServer(e,t)}static _getFromServer(e,t){let n=fe.getInstance().transportManager.send({t:"group_channels.get",d:{id:e,get_participants:!0,get_read_receipt:!0}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{let a=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(a,null)};fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s)}update(e,t){let n={id:this.id};e.getName()&&(n.name=e.getName()),e.getParticipantIds()&&(n.participant_ids=e.getParticipantIds()),e.getCustomFilter()&&(n.custom_filter=e.getCustomFilter()),e.getData()&&(n.data=e.getData()),e.getMetadata()&&(n.metadata=e.getMetadata()),e.getAvatarUrl()&&(n.avatar_url=e.getAvatarUrl()),e.getModeratorIds()&&(n.moderator_ids=e.getModeratorIds()),e.getPublic()&&(n.is_public=e.getPublic()),e.getAvatarFile()&&(n.avatar_file=e.getAvatarFile()),n.is_distinct=e.getDistinct();let r=fe.getInstance().transportManager.send({t:"group_channels.update",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}_uploadAvatar(e,t,n){let r=new FormData;r.append("app_id",fe.getInstance().app.id),r.append("user_id",fe.getInstance().user.id),fe.getInstance().user.accessToken&&r.append("user_access_token",fe.getInstance().user.accessToken),r.append("id",this.id),r.append("avatar_file",e);let s={headers:{"content-type":"multipart/form-data"},onUploadProgress:e=>{t(e.loaded,e.total)}};T.a.post(fe.getInstance().baseUrl+"/group_channels.avatar_upload",r,s).then(e=>e.data&&e.data.group_channel?n(null,e.data.group_channel.avatar_url):n(e.data.error,null)).catch(e=>n(e,null))}updatePushNotificationPreference(e,t,n,r,s,a,i){fe.getInstance()._updatePushNotificationPreference({doNotDisturb:e,startHour:t,startMin:n,endHour:r,endMin:s,timezone:a,groupChannelId:this.id},i)}getPushNotificationPreference(e){fe.getInstance()._getPushNotificationPreference({groupChannelId:this.id},e)}sync(e){let t=fe.getInstance().transportManager.send({t:"group_channels.get",d:{id:this.id}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null,s)),r=s=>{let a=new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}inviteParticipants(e,t){let n=fe.getInstance().transportManager.send({t:"group_channels.invite",d:{id:this.id,participant_ids:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(e)};return fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s),!0}inviteParticipant(e,t){return this.inviteParticipants([e],t)}acceptInvitation(e){let t=fe.getInstance().transportManager.send({t:"group_channels.accept",d:{id:this.id}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}declineInvitation(e){let t=fe.getInstance().transportManager.send({t:"group_channels.decline",d:{id:this.id}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}isTyping(){return Object.keys(this.cachedParticipantsTypingStatus).length>0}setTypingStatus(e,t){t?this.cachedParticipantsTypingStatus[e]=(new Date).getTime():delete this.cachedParticipantsTypingStatus[e]}checkTypingStatus(){let e=!1;for(let t in this.cachedParticipantsTypingStatus)this.cachedParticipantsTypingStatus[t]<(new Date).getTime()-1e4&&(delete this.cachedParticipantsTypingStatus[t],e=!0);return e}startTyping(){if(this.lastStartTyping<(new Date).getTime()-1e4){fe.getInstance().transportManager.send({t:"group_channels.start_typing",d:{id:this.id}});return this.lastStartTyping=(new Date).getTime(),!0}}stopTyping(){if(this.lastStopTyping<(new Date).getTime()-1e4){fe.getInstance().transportManager.send({t:"group_channels.stop_typing",d:{id:this.id}});return this.lastStopTyping=(new Date).getTime(),!0}}markAsRead(){return this.isPublic||this.getCurrentUserReadStatus()||this._markAsRead(),this.unreadMessageCount=0,!0}_markAsRead(){fe.getInstance().transportManager.send({t:"group_channels.read",d:{id:this.id}});return!0}getReadReceipt(e){return this.readReceipt}getReadParticipants(e){let t=[];for(let n in this.participants){let r=e.insertedAt;this.readReceipt[this.participants[n].id]>=r&&t.push(this.participants[n])}return t}getUnreadParticipants(e){let t=[];for(let n in this.participants){let r=e.insertedAt;this.readReceipt[this.participants[n].id]<r&&t.push(this.participants[n])}return t}getUnreadParticipantsCount(e){return this.getUnreadParticipants(e).length}getUnreadMessageCount(){return this.unreadMessageCount}getCurrentUserReadStatus(){if(this.lastMessage){let e=this.lastMessage.insertedAt;return this.readReceipt[fe.getInstance().user.id]>=e}return!0}getLastMessage(){return this.lastMessage}getParticipants(){return this.participants}ifPublic(){return this.isPublic}getTypingParticipants(){let e=[];for(let t in this.cachedParticipantsTypingStatus)for(let n in this.participants)if(t===this.participants[n].id){e.push(this.participants[n]);break}return e}getId(){return this.id}getName(){return this.name}static createGroupChannelListQuery(){return new P}static createPublicGroupChannelListQuery(){return new O}createPreviousMessageListQuery(){return new F(this)}static purgeCache(){V.cachedChannels={}}static getTotalGroupChannelCount(e,t){"function"==typeof t?V._getTotalGroupChannelCount(e,t):V._getTotalGroupChannelCount(new x,e)}static _getTotalGroupChannelCount(e,t){let n={custom_filter_query_type:e.getCustomFilterQueryType()};e.getCustomFilter().length&&(n.custom_filter=e.getCustomFilter()),e.getPublicFilter()&&(n.public_filter=e.getPublicFilter());let r=fe.getInstance().transportManager.send({t:"group_channels.my_list_count",d:n}),s=n=>{let i=e.getCustomFilter().join("")+e.getCustomFilterQueryType();return V.cachedTotalGroupChannelCount[i]={count:n,params:e},window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,n,e)},a=e=>{new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(e,null,null)};return fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a),!0}archive(e){let t=fe.getInstance().transportManager.send({t:"group_channels.archive",d:{id:this.id,is_archive:!0}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}unarchive(e){let t=fe.getInstance().transportManager.send({t:"group_channels.archive",d:{id:this.id,is_archive:!1}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(s)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}isArchived(){return this.archived}getMyStatus(){return this.myStatus}ifModerator(e){if(!e)return this.isModerator;if(this.participants)for(let t in this.participants)if(this.participants[t].id===e&&this.participants[t].ifModerator())return!0;return!1}ifFlexible(){return this.isFlexible}beta(){return{getDirectChannelName:()=>2!==this.getParticipantsCount()||this.ifPublic()?this.getName():this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].getDisplayName():this.getParticipants()[0].getDisplayName(),getDirectChannelAvatarUrl:()=>2!==this.getParticipantsCount()||this.ifPublic()?this.getAvatarUrl():this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].getAvatarUrl():this.getParticipants()[0].getAvatarUrl(),getDirectChannelStatus:()=>2===this.getParticipantsCount()&&!this.ifPublic()&&(this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].ifOnline():this.getParticipants()[0].ifOnline()),getDirectChannelId:()=>2!==this.getParticipantsCount()||this.ifPublic()?this.getId():this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].getId():this.getParticipants()[0].getId(),getDirectChannelMetadata:()=>2===this.getParticipantsCount()&&!this.ifPublic()&&(this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].getMetadata():this.getParticipants()[0].getMetadata()),getDirectChannelIsBlockedByMe:()=>2===this.getParticipantsCount()&&!this.ifPublic()&&(this.getParticipants()[0].getId()===fe.getInstance().getCurrentUser().getId()?this.getParticipants()[1].ifBlockedByMe():this.getParticipants()[0].ifBlockedByMe())}}getSerializedObject(){return JSON.parse(JSON.stringify(this))}static createFromSerializedObject(e){return new V(e,!0)}}V.cachedChannels={},V.cachedTotalGroupChannelCount={};class q{constructor(){this.onMessageDeleted=function(e,t){},this.onMessageReceived=function(e,t){},this.onMessageUpdated=function(e,t){},this.onTypingStatusChanged=function(e){},this.onReadStatusUpdated=function(e){},this.onChannelDeleted=function(e){},this.onChannelUpdated=function(e){},this.onParticipantJoined=function(e,t){},this.onParticipantLeft=function(e,t){},this.onParticipantInvited=function(e,t){},this.onParticipantDeclined=function(e,t){},this.onParticipantBanned=function(e,t){},this.onParticipantUnbanned=function(e,t){},this.onParticipantMuted=function(e,t){},this.onParticipantUnmuted=function(e,t){},this.onArchived=function(e){},this.onUnarchived=function(e){},this.onHistoryCleared=function(e){},this.onTotalChannelCount=((e,t)=>{})}}class Q{constructor(){this.onConnectionChanged=function(e){}}}class K{constructor(){this.onTotalUnreadMessageCount=((e,t)=>{}),this.onTotalUnreadGroupChannelCount=((e,t)=>{})}}class J{static create(e,t,n,r,s,a,i,o){let c=fe.getInstance().transportManager.send({t:"payments.create",d:{product_id:r,product_name:s,product_price:a,product_description:i,channel_type:e,channel_id:t,message_id:n}}),u=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+c+".success",u),fe.getInstance().off("to."+c+".error",l)},0),o(null,e)),l=e=>{let t=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+c+".success",u),fe.getInstance().off("to."+c+".error",l)},0),o(t,null)};fe.getInstance().on("to."+c+".success",u),fe.getInstance().on("to."+c+".error",l)}static list(e,t,n){let r={};e&&(r.reference=e),t&&(r.limit=t);let s=fe.getInstance().transportManager.send({t:"payments.list",d:r}),a=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(null,e)),i=e=>{let t=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(t,null)};fe.getInstance().on("to."+s+".success",a),fe.getInstance().on("to."+s+".error",i)}static my_list(e,t,n){let r={};e&&(r.reference=e),t&&(r.limit=t);let s=fe.getInstance().transportManager.send({t:"payments.my_list",d:r}),a=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(null,e)),i=e=>{let t=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+s+".success",a),fe.getInstance().off("to."+s+".error",i)},0),n(t,null)};fe.getInstance().on("to."+s+".success",a),fe.getInstance().on("to."+s+".error",i)}}!function(e){e.ALL="ALL",e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(G||(G={})),function(e){e.AND="AND",e.OR="OR"}(H||(H={})),function(e){e.ALL="ALL",e.VIEW_ONLY="VIEW_ONLY",e.WRITE_AND_VIEW="WRITE_AND_VIEW"}(z||(z={}));var $,Y,X=class{constructor(){this.limit=20}setActiveFilter(e){this.activeFilter=e}setChannelIdsFilter(e){this.channelIdsFilter=e}setChannelNameSearch(e){this.channelNameSearch=e}setCustomFilter(e){this.customFilter=e}setCustomFilterQueryType(e){this.customFilterQueryType=e}setCustomFilterSearch(e){this.customFilterSearch=e}setLimit(e){this.limit=e}setReference(e){this.reference=e}setViewOnlyFilter(e){this.viewOnlyFilter=e}load(e){let t=fe.getInstance().transportManager.send({t:"open_channels.list",d:{reference:this.reference,limit:this.limit}}),n=s=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(null,s)),r=s=>{let a=new E(s);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",n),fe.getInstance().off("to."+t+".error",r)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",n),fe.getInstance().on("to."+t+".error",r),!0}};!function(e){e.IS_ACTIVE_FILTER_ACTIVE="ACTIVE",e.IS_ACTIVE_FILTER_DEACTIVE="DEACTIVE",e.IS_ACTIVE_FILTER_ALL="ALL",e.IS_ONLINE_FILTER_ONLINE="ONLINE",e.IS_ONLINE_FILTER_OFFLINE="OFFLINE",e.IS_ONLINE_FILTER_ALL="ALL",e.ORDER_CHRONOLOGICAL="CHRONOLOGICAL",e.ORDER_ALPHABETICAL="ALPHABETICAL",e.IS_CHECK_ACCESS_TOKEN_FILTER_ALL="ALL",e.IS_CHECK_ACCESS_TOKEN_FILTER_NO_TOKEN="NO_TOKEN",e.IS_CHECK_ACCESS_TOKEN_FILTER_TOKEN="TOKEN"}($||($={})),function(e){e.BLOCKED_USER="BLOCKED_USER",e.ALL_USER="ALL_USER"}(Y||(Y={}));class Z{constructor(e){this.type=e,this.limit=20,this.isActiveFilter=$.IS_ACTIVE_FILTER_ACTIVE,this.isOnlineFilter=$.IS_ONLINE_FILTER_ALL,this.isCheckAccessTokenFilter=$.IS_CHECK_ACCESS_TOKEN_FILTER_ALL,this.order=$.ORDER_ALPHABETICAL}setLimit(e){this.limit=e}setReference(e){this.reference=e}load(e){let t,n;n={limit:this.limit,order:this.order},this.reference&&(n.reference=this.reference),this.userIds&&(n.user_ids=this.userIds),this.isActiveFilter&&(n.is_active_filter=this.isActiveFilter),this.isOnlineFilter&&(n.is_online_filter=this.isOnlineFilter),this.isCheckAccessTokenFilter&&(n.is_check_access_token_filter=this.isCheckAccessTokenFilter),this.customFilter&&(n.custom_filter=this.customFilter),this.customFilterQueryType&&(n.custom_filter_query_type=this.customFilterQueryType),this.displayNameSearch&&(n.display_name_search=this.displayNameSearch),this.type===Y.ALL_USER?t=fe.getInstance().transportManager.send({t:"users.list",d:n}):this.type===Y.BLOCKED_USER&&(t=fe.getInstance().transportManager.send({t:"users.block_list",d:{limit:this.limit,reference:this.reference}}));let r=n=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),n.length>0&&(this.reference=n[n.length-1].id),e(null,n)),s=n=>{let a=new E(n);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",r),fe.getInstance().on("to."+t+".error",s),!0}count(e){let t,n;n={},this.isActiveFilter&&(n.is_active_filter=this.isActiveFilter),this.isOnlineFilter&&(n.is_online_filter=this.isOnlineFilter),this.isCheckAccessTokenFilter&&(n.is_check_access_token_filter=this.isCheckAccessTokenFilter),this.customFilter&&(n.custom_filter=this.customFilter),this.customFilterQueryType&&(n.custom_filter_query_type=this.customFilterQueryType),t=fe.getInstance().transportManager.send({t:"users.list_count",d:n});let r=n=>(window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(null,n)),s=n=>{let a=new E(n);return window.setTimeout(()=>{fe.getInstance().off("to."+t+".success",r),fe.getInstance().off("to."+t+".error",s)},0),e(a,null)};return fe.getInstance().on("to."+t+".success",r),fe.getInstance().on("to."+t+".error",s),!0}}class ee extends D{static create(e,t){let n={};e.getName()&&(n.name=e.getName()),e.getCustomFilter()&&(n.custom_filter=e.getCustomFilter()),e.getData()&&(n.data=e.getData()),e.getMetadata()&&(n.metadata=e.getMetadata()),e.getAvatarUrl()&&(n.avatar_url=e.getAvatarUrl()),e.getModeratorIds()&&(n.moderator_ids=e.getModeratorIds()),e.getAvatarFile()&&(n.avatar_file=e.getAvatarFile());let r=fe.getInstance().transportManager.send({t:"open_channels.create",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}static get(e,t){return ee.cachedChannels&&ee.cachedChannels[e]?t(null,ee.cachedChannels[e]):this._getFromServer(e,t)}static _getFromServer(e,t){let n=fe.getInstance().transportManager.send({t:"open_channels.get",d:{id:e}}),r=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{let a=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+n+".success",r),fe.getInstance().off("to."+n+".error",s)},0),t(a,null)};fe.getInstance().on("to."+n+".success",r),fe.getInstance().on("to."+n+".error",s)}static _upsert(e){let t=new ee(e);ee.cachedChannels||(ee.cachedChannels={}),ee.cachedChannels[t.getId()]=t}update(e,t){let n={id:this.id};e.getName()&&(n.name=e.getName()),e.getCustomFilter()&&(n.custom_filter=e.getCustomFilter()),e.getData()&&(n.data=e.getData()),e.getMetadata()&&(n.metadata=e.getMetadata()),e.getAvatarUrl()&&(n.avatar_url=e.getAvatarUrl()),e.getAvatarFile()&&(n.avatar_file=e.getAvatarFile());let r=fe.getInstance().transportManager.send({t:this.getType()+"_channels.update",d:n}),s=e=>(window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{let n=new E(e);return window.setTimeout(()=>{fe.getInstance().off("to."+r+".success",s),fe.getInstance().off("to."+r+".error",a)},0),t(n,null)};fe.getInstance().on("to."+r+".success",s),fe.getInstance().on("to."+r+".error",a)}constructor(e,t){if(super(e,t),!1===t||void 0===t){if(e.participants){this.participants=[];for(let t in e.participants)this.participants.push(new N(e.participants[t]))}if(e.participants_count?this.participantsCount=e.participants_count:this.participantsCount=0,this.moderators=[],e.moderators)for(let t in e.moderators)this.moderators.push(new b(e.moderators[t]))}else if(t){if(e.participants){this.participants=[];for(let t in e.participants)this.participants.push(new N(e.participants[t],!0))}if(e.participantsCount?this.participantsCount=e.participantsCount:this.participantsCount=0,this.moderators=[],e.moderators)for(let t in e.moderators)this.moderators.push(new b(e.moderators[t],!0))}}getId(){return this.id}getName(){return this.name}static createOpenChannelListQuery(){return new X}createPreviousMessageListQuery(){return new F(this)}static purgeCache(){ee.cachedChannels={}}ifModerator(e){if(!e)return this.isModerator;if(this.moderators)for(let t in this.moderators)if(this.moderators[t].id===e)return!0;return!1}getModerators(){return this.moderators}getSerializedObject(){return JSON.parse(JSON.stringify(this))}static createFromSerializedObject(e){return new ee(e,!0)}}class te extends B{constructor(){super()}}var ne,re=n(10),se=n.n(re),ae=n(2),ie=n.n(ae);!function(e){e.HOST="wss://api.chatcamp.io",e.PORT="443"}(ne||(ne={}));var oe=class extends r{constructor(e){super(e),this.client=e.client,this.heartbeatFrequency=6e4,this._nextHeartbeatId=0,this.open=!1,this.timesOpened=0,this._reconnectDelay=1,this._maxReconnectDelay=120,this._listeners={},this.host=ne.HOST,this.port=ne.PORT,e.host&&(this.host=e.host),e.port&&(this.port=e.port),this._r=0}_connect(e){this.accessToken=e.accessToken,this.userId=e.userId;let t=ne.HOST;if(this._socket)return;this.host!==ne.HOST&&(t=this.host+":"+this.port);let n="?app_id="+this.client.app.id;fe.getInstance().sessionKey?n="?session_key="+encodeURIComponent(fe.getInstance().sessionKey):e.accessToken?n+="&user_id="+encodeURIComponent(e.userId)+"&access_token="+encodeURIComponent(e.accessToken):n+="&user_id="+encodeURIComponent(e.userId),this._socket=new se.a(t+"/chat/2.0"+n,{disableWebSocket:!1,disableEventSource:!0,disableXHRPolling:!1}),this._socket.onmessage=this._onMessage.bind(this),this._socket.onclose=this._onDisconnect.bind(this),this._socket.ondisconnect=this._onDisconnect.bind(this),this._socket.onopen=this._onOpen.bind(this),this._socket.onerror=this._onError.bind(this),fe.getInstance().setConnectionState(ue.CONNECTING)}setHost(e){this.host=e}setPort(e){this.port=e}_onOpen(){ie.a.debug("chat socket: opened",this._socket.transportType),this.open=!0,this.timesOpened++,this._rescheduleHeartbeat(),this.emit("open",null)}_onMessage(e){this._reconnectDelay=1,ie.a.debug("chat socket: message",typeof e);let t=JSON.parse(e.data);this.emit("message",t),ie.a.debug(t)}_onDisconnect(){this.open=!1,this.emit("close",null);let e=this;fe.getInstance().setConnectionState(ue.CLOSED),V.purgeCache(),ee.purgeCache();let t=fe.getInstance().getConnectionListenersMap();for(let e in t)t[e].onConnectionChanged(!1);window.setTimeout(function(){e._reconnectDelay<=e._maxReconnectDelay&&(e._reconnectDelay=2*e._reconnectDelay),e._reconnect()},this._reconnectDelay>this._maxReconnectDelay?1e3*this._maxReconnectDelay:1e3*this._reconnectDelay)}_onHeartbeat(){this.send({t:"ping"})}_onClose(){}_onError(e){let t="iflychat.app.ws.error";0!==this._socket.transportType&&(t="iflychat.app.poll.error")}send(e){return this._r++,e.r=this._r,e.l&&(this._listeners["r_"+e.r]=e.l,delete e.l),this.open&&this._socket.send(JSON.stringify(e)),this._r}_rescheduleHeartbeat(){this._nextHeartbeatId&&clearTimeout(this._nextHeartbeatId),this._nextHeartbeatId=window.setTimeout(this._heartbeat.bind(this),this.heartbeatFrequency)}_heartbeat(){this._nextHeartbeatId=0,this.send({t:"ping"}),this._rescheduleHeartbeat()}_reconnect(){if(this._socket=null,this.open=!1,clearTimeout(this._nextHeartbeatId),fe.getInstance().setConnectionState(ue.CLOSED),!this.client.hasUserForcedDisconnect()&&this.client.isAutoReconnectEnabled()){let e,t=null;if(this.client.user&&this.client.user.accessToken&&this.client.user.id?(t=this.client.user.accessToken,e=this.client.user.id):this.client.user&&this.client.user.id?e=this.client.user.id:this.userId&&this.accessToken?(t=this.accessToken,e=this.userId):this.userId&&(e=this.userId),e&&t)return this._connect({userId:e,accessToken:t}),!0;if(e)return this._connect({userId:e}),!0}return!1}disconnect(e){fe.getInstance().setConnectionState(ue.CLOSING),fe.getInstance().sessionKey=null,this._socket&&this._socket.close(1e3,"Normal Closure"),e()}};var ce,ue,le=class extends r{constructor(e,t){super(),fe.getInstance().transportManager.on("message",this._handleMessage.bind(this))}_handleMessage(e){switch(e.t){case"app.get.ack":this._handleAppInfo(e);break;case"group_channels.active.ack":case"open_channels.active.ack":this._handleBaseChannelsActiveAck(e.d,e.to);break;case"group_channels.mute_get.ack":case"open_channels.mute_get.ack":this._handleBaseChannelsMuteGetAck(e.d,e.to);break;case"group_channels.ban_get.ack":case"open_channels.ban_get.ack":this._handleBaseChannelsBanGetAck(e.d,e.to);break;case"group_channels.ban.ack":case"open_channels.ban.ack":this._handleBaseChannelsBanAck(e.d,e.to);break;case"group_channels.ban.pub":case"open_channels.ban.pub":this._handleBaseChannelsBanPub(e.d,e.to);break;case"group_channels.unban.ack":case"open_channels.unban.ack":this._handleBaseChannelsUnbanAck(e.d,e.to);break;case"group_channels.unban.pub":case"open_channels.unban.pub":this._handleBaseChannelsUnbanPub(e.d,e.to);break;case"group_channels.ban_list.ack":case"open_channels.ban_list.ack":this._handleBaseChannelsBanListAck(e.d,e.to);break;case"group_channels.delete.ack":case"open_channels.delete.ack":this._handleBaseChannelsDeleteAck(e.d,e.to);break;case"group_channels.delete.pub":case"open_channels.delete.pub":this._handleBaseChannelsDeletePub(e.d,e.to);break;case"group_channels.mute.ack":case"open_channels.mute.ack":this._handleBaseChannelsMuteAck(e.d,e.to);break;case"group_channels.mute.pub":case"open_channels.mute.pub":this._handleBaseChannelsMutePub(e.d,e.to);break;case"group_channels.unmute.ack":case"open_channels.unmute.ack":this._handleGroupChannelsUnmuteAck(e.d,e.to);break;case"group_channels.unmute.pub":case"open_channels.unmute.pub":this._handleGroupChannelsUnmutePub(e.d,e.to);break;case"group_channels.mute_list.ack":case"open_channels.mute_list.ack":this._handleBaseChannelsMuteListAck(e.d,e.to);break;case"group_channels.create.ack":case"open_channels.create.ack":this._handleBaseChannelsCreateAck(e.d,e.to);break;case"group_channels.history.ack":case"open_channels.history.ack":this._handleBaseChannelsHistoryAck(e.d,e.to);break;case"group_channels.get.ack":case"open_channels.get.ack":this._handleBaseChannelsGetAck(e.d,e.to);break;case"group_channels.update.ack":case"open_channels.update.ack":this._handleBaseChannelsCreateAck(e.d,e.to);break;case"group_channels.update.pub":case"open_channels.update.pub":this._handleBaseChannelsUpdatePub(e.d);break;case"group_channels.clear_history.ack":case"open_channels.clear_history.ack":this._handleBaseChannelsClearHistoryAck(e.d,e.to);break;case"group_channels.clear_history.pub":case"open_channels.clear_history.pub":this._handleBaseChannelsClearHistoryPub(e.d,e.to);break;case"group_channels.join.ack":case"open_channels.join.ack":this._handleBaseChannelsJoinAck(e.d,e.to);break;case"group_channels.join.pub":case"open_channels.join.pub":this._handleBaseChannelsJoinPub(e.d,e.to);break;case"group_channels.leave.ack":case"open_channels.leave.ack":this._handleBaseChannelsLeaveAck(e.d,e.to);break;case"group_channels.leave.pub":case"open_channels.leave.pub":this._handleBaseChannelsLeavePub(e.d);break;case"group_channels.list.ack":case"open_channels.list.ack":this._handleBaseChannelsListAck(e.d,e.to);break;case"group_channels.message.ack":case"open_channels.message.ack":this._handleBaseChannelsMessageAck(e.d,e.to);break;case"group_channels.message.pub":case"open_channels.message.pub":this._handleBaseChannelsMessagePub(e.d,e.to);break;case"group_channels.message_get.ack":case"open_channels.message_get.ack":this._handleBaseChannelsMessageGetAck(e.d,e.to);break;case"group_channels.message_update.ack":case"open_channels.message_update.ack":this._handleBaseChannelsMessageUpdateAck(e.d,e.to);break;case"group_channels.message_update.pub":case"open_channels.message_update.pub":this._handleBaseChannelsMessageUpdatePub(e.d,e.to);break;case"group_channels.messages_count.ack":case"open_channels.messages_count.ack":this._handleBaseChannelsMessagesCountAck(e.d,e.to);break;case"group_channels.moderators_add.ack":case"open_channels.moderators_add.ack":this._handleBaseChannelsModeratorsAddAck(e.d,e.to);break;case"group_channels.moderators_add.pub":case"open_channels.moderators_add.pub":this._handleBaseChannelsModeratorsAddPub(e.d,e.to);break;case"group_channels.moderators_list.ack":case"open_channels.moderators_list.ack":this._handleBaseChannelsModeratorsListAck(e.d,e.to);break;case"group_channels.moderators_remove.ack":case"open_channels.moderators_remove.ack":this._handleBaseChannelsModeratorsRemoveAck(e.d,e.to);break;case"group_channels.moderators_remove.pub":case"open_channels.moderators_remove.pub":this._handleBaseChannelsModeratorsRemovePub(e.d,e.to);break;case"group_channels.message_delete.ack":case"open_channels.message_delete.ack":this._handleBaseChannelsMessageDeleteAck(e.d,e.to);break;case"group_channels.participants_list.ack":case"open_channels.participants_list.ack":this._handleBaseChannelsParticipantsListAck(e.d,e.to);break;case"group_channels.view_only.ack":case"open_channels.view_only.ack":this._handleBaseChannelsViewOnlyAck(e.d,e.to);break;case"group_channels.archive.ack":this._handleGroupChannelsArchiveAck(e.d,e.to);break;case"group_channels.archive.pub":this._handleGroupChannelsArchivePub(e.d,e.to);break;case"group_channels.invite.ack":this._handleGroupChannelsInviteAck(e.d,e.to);break;case"group_channels.accept.ack":this._handleGroupChannelsAcceptAck(e.d,e.to);break;case"group_channels.invite.pub":this._handleGroupChannelsInvitePub(e.d);break;case"group_channels.accept.pub":this._handleGroupChannelsAcceptPub(e.d);break;case"group_channels.decline.ack":this._handleGroupChannelsDeclineAck(e.d,e.to);break;case"group_channels.decline.pub":this._handleGroupChannelsDeclinePub(e.d);break;case"group_channels.my_list.ack":this._handleGroupChannelMyListAck(e.d,e.to);break;case"group_channels.my_list_count.ack":this._handleGroupChannelsMyListCountAck(e.d,e.to);break;case"open_channels.message_delete.pub":case"group_channels.message_delete.pub":this._handleBaseChannelsMessageDeletePub(e.d,e.to);break;case"group_channels.start_typing.pub":this._handleGroupChannelsStartTypingPub(e.d,e.to);break;case"group_channels.start_typing.ack":break;case"group_channels.stop_typing.pub":this._handleGroupChannelsStopTypingPub(e.d,e.to);break;case"group_channels.stop_typing.ack":break;case"group_channels.read.ack":this._handleGroupChannelsReadAck(e.d,e.to);break;case"group_channels.read.pub":this._handleGroupChannelsReadPub(e.d);break;case"users.auth.ack":this._handleUsersAuthAck(e.d,e.to);break;case"users.get.ack":case"users.update.ack":this._handleUsersUpdateAck(e.d,e.to);break;case"users.block_list.ack":this._handleUsersBlockListAck(e.d,e.to);break;case"users.list.ack":this._handleUsersListAck(e.d,e.to);break;case"users.list_count.ack":this._handleUsersListCountAck(e.d,e.to);break;case"users.block.ack":this._handleUsersBlockAck(e.d,e.to);break;case"users.get_total_unread_message_count.ack":this._handleUsersGetTotalUnreadMessageCountAck(e.d,e.to);break;case"users.get_total_unread_group_channel_count.ack":this._handleUsersGetTotalUnreadGroupChannelCountAck(e.d,e.to);break;case"users.mark_as_read_all.ack":this._handleUsersMarkAsReadAllAck(e.d,e.to);break;case"users.push_notification_snooze_get.ack":this._handleUsersPushNotificationSnoozeGetAck(e.d,e.to);break;case"users.push_notification_snooze_update.ack":this._handleUsersPushNotificationSnoozeUpdateAck(e.d,e.to);break;case"users.push_notification_sound_get.ack":this._handleUsersPushNotificationSoundGetAck(e.d,e.to);break;case"users.push_notification_sound_update.ack":this._handleUsersPushNotificationSoundUpdateAck(e.d,e.to);break;case"users.push_notification_template_get.ack":this._handleUsersPushNotificationTemplateGetAck(e.d,e.to);break;case"users.push_notification_template_update.ack":this._handleUsersPushNotificationTemplateUpdateAck(e.d,e.to);break;case"users.push_preference_get.ack":this._handleUsersPushNotificationPreferenceGetAck(e.d,e.to);break;case"users.push_preference_update.ack":this._handleUsersPushNotificationPreferenceUpdateAck(e.d,e.to);break;case"users.push_token_update.ack":this._handleUsersPushTokenUpdateAck(e.d,e.to);break;case"users.push_token_delete.ack":this._handleUsersPushTokenDeleteAck(e.d,e.to);break;case"users.unblock.ack":this._handleUsersUnblockAck(e.d,e.to);break;case"payments.create.ack":this._handlePaymentsCreateAck(e.d,e.to);break;case"payments.list.ack":this._handlePaymentsListAck(e.d,e.to);break;case"payments.my_list.ack":this._handlePaymentsMyListAck(e.d,e.to);break;default:fe.getInstance().emit(e.t,e.d)}}_handleAppInfo(e){e.d.ok&&(fe.getInstance().app=new k({id:e.d.app.id,name:e.d.app.name,notification:e.d.app.notification,theme:e.d.app.theme}))}_handleBaseChannelsActiveAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsArchiveAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsArchivePub(e,t){if(e.ok){let t,n;e.group_channel&&(t=e.group_channel,n=new V(t),V._upsert(t));for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];n.isArchived?t.onArchived(n):t.onUnarchived(n)}}}_handleBaseChannelsMuteGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.muted_participant):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsBanGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.banned_participant):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsBanAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsBanPub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=new b(e.user);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];t.onParticipantBanned(n,r),t.onChannelUpdated(n)}}}_handleBaseChannelsUnbanAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsUnbanPub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=new b(e.user);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];t.onParticipantUnbanned(n,r),t.onChannelUpdated(n)}}}_handleBaseChannelsBanListAck(e,t){if(e.ok){let n;e.open_channel?n=e.open_channel.banned_participants:e.group_channel&&(n=e.group_channel.banned_participants);let r=[];for(let e in n){let t=new b(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsDeleteAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsDeletePub(e,t){if(e.ok){let t;e.group_channel?(t=e.group_channel,delete V.cachedChannels[t.id]):e.open_channel&&(t=e.open_channel,delete V.cachedChannels[t.id]);let n=t.id;for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelDeleted(n)}}_handleBaseChannelsMuteAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMutePub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=new b(e.user);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];t.onParticipantMuted(n,r),t.onChannelUpdated(n)}}}_handleGroupChannelsUnmuteAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsUnmutePub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=new b(e.user);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];t.onParticipantUnmuted(n,r),t.onChannelUpdated(n)}}}_handleBaseChannelsMuteListAck(e,t){if(e.ok){let n;e.open_channel?n=e.open_channel.muted_participants:e.group_channel&&(n=e.group_channel.muted_participants);let r=[];for(let e in n){let t=new b(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsClearHistoryAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsClearHistoryPub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onHistoryCleared(n)}}_handleGroupChannelsInviteAck(e,t){if(e.ok){let n=e.group_channel,r=new V(n);t&&fe.getInstance().emit("to."+t+".success",r)}}_handleGroupChannelsAcceptAck(e,t){if(e.ok){let n=e.group_channel,r=new V(n);t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsInvitePub(e){if(e.ok){let t=e.group_channel,n=e.users,r=new V(t);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];for(let e in n){let s=new N(n[e]);t.onParticipantInvited(r,s)}}}}_handleGroupChannelsAcceptPub(e){if(e.ok){let t=e.group_channel,n=e.users,r=new V(t);V._upsert(t);for(let e in n){let t=new N(n[e]);t.id===fe.getInstance().user.id&&this._updateTotalGroupChannelCount(r,1,!1);for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onParticipantJoined(r,t)}}}_handleGroupChannelsDeclineAck(e,t){if(e.ok){let n=e.group_channel,r=new V(n);t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsDeclinePub(e){if(e.ok){let t=e.group_channel,n=e.users,r=new V(t);V._upsert(t);for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];for(let e in n){let s=new N(n[e]);t.onParticipantDeclined(r,s)}}}}_handleBaseChannelsLeaveAck(e,t){if(e.ok){let n,r;e.group_channel?(n=e.group_channel,r=new V(n),V._upsert(n),this._updateTotalGroupChannelCount(r,-1,!1)):e.open_channel&&(n=e.open_channel,r=new ee(n),ee._upsert(n)),t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsLeavePub(e){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=e.users;for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];for(let e in r){let s=new N(r[e]);t.onParticipantLeft(n,s)}}}}_handleBaseChannelsCreateAck(e,t){if(e.ok){let n,r;e.group_channel?(n=e.group_channel,r=new V(n)):e.open_channel&&(n=e.open_channel,r=new ee(n)),t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsHistoryAck(e,t){if(e.ok){let n=e.messages,r=[];for(let e in n){let t=new S(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsGetAck(e,t){if(e.ok){let n,r;e.group_channel?(n=e.group_channel,r=new V(n),V._upsert(n)):e.open_channel&&(n=e.open_channel,r=new ee(n),ee._upsert(n)),t&&fe.getInstance().emit("to."+t+".success",r)}else e.error,t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsUpdatePub(e){if(e.ok){let t;if(e.group_channel){t=e.group_channel;let n=new V(t);V._upsert(t),V.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)})}else if(e.open_channel){t=e.open_channel;let n=new ee(t);ee._upsert(t),ee.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)})}}}_handleGroupChannelMyListAck(e,t){if(e.ok){let n=e.group_channels,r=[];for(let e in n){let t=new V(n[e]);r.push(t),V._upsert(n[e])}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsMyListCountAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.group_channel.count):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessageAck(e,t){if(e.ok){let n=e.message,r=new S(n);n.channel_id,t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessagePub(e,t){if(e.ok){let t=e.message,n=new S(t),r=t.channel_id;if("group_channel"===t.channel_type){let e=!1;V.cachedChannels[r]&&(e=!0);let t=this;V.get(r,function(r,s){e?(s.lastMessage=n,"announcement"!==n.type&&fe.getInstance().user.id===n.user.id||(s.unreadMessageCount+=1,t._updateTotalUnreadMessageCount(s,1,!1),1===s.unreadMessageCount&&t._updateTotalUnreadGroupChannelCount(s,1,!1)),V.cachedChannels[s.getId()]=s):(t._updateTotalUnreadMessageCount(s,1,!1),1===s.unreadMessageCount&&t._updateTotalUnreadGroupChannelCount(s,1,!1));for(let e in fe.getInstance().getChannelListenersMap()){let t=fe.getInstance().getChannelListenersMap()[e];t.onMessageReceived(s,n),t.onChannelUpdated(s)}})}else ee.get(r,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onMessageReceived(t,n)})}}_handleBaseChannelsMessageDeleteAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessagesCountAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.message.count):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessageDeletePub(e,t){if(e.ok){let t=e.message,n=new S(t),r=t.channel_id;"group_channel"===t.channel_type?V.get(r,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onMessageDeleted(t,n)}):ee.get(r,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onMessageDeleted(t,n)})}}_handleBaseChannelsMessageGetAck(e,t){if(e.ok){let n=e.message,r=new S(n);n.channel_id,t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessageUpdateAck(e,t){if(e.ok){let n=e.message,r=new S(n);n.channel_id,t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsMessageUpdatePub(e,t){if(e.ok){let t=e.message,n=new S(t),r=t.channel_id;"group_channel"===t.channel_type?V.get(r,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onMessageUpdated(t,n)}):ee.get(r,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onMessageUpdated(t,n)})}}_handleBaseChannelsModeratorsAddAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsModeratorsAddPub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t),V.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)})):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t),ee.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)}))}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsModeratorsListAck(e,t){if(e.ok){let n;e.group_channel?n=e.group_channel.moderators:e.open_channel&&(n=e.open_channel.moderators);let r=[];for(let e in n){let t=new b(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsModeratorsRemoveAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsModeratorsRemovePub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t),V.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)})):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t),ee.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)}))}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsParticipantsListAck(e,t){if(e.ok){let n;e.group_channel?n=e.group_channel.participants:e.open_channel&&(n=e.open_channel.participants);let r=[];for(let e in n){let t=new N(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsStartTypingPub(e,t){if(e.ok){let t=e.group_channel.typing_participant_id,n=e.group_channel.id;V.get(n,function(e,n){n.setTypingStatus(t,!0);for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onTypingStatusChanged(n)})}}_handleGroupChannelsStopTypingPub(e,t){if(e.ok){let t=e.group_channel.typing_participant_id,n=e.group_channel.id;V.get(n,function(e,n){n.setTypingStatus(t,!1);for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onTypingStatusChanged(n)})}}_handleGroupChannelsReadAck(e,t){if(e.ok){let t=e.group_channel,n=new V(t),r=!1;V.cachedChannels[t.id]&&(r=!0);let s=this;if(r){let e=fe.getInstance().user.id,n=V.cachedChannels[t.id];t.read_receipt[e]&&t.read_receipt[e]>=n.lastMessage.insertedAt?(t.unread_message_count=0,s._updateTotalUnreadMessageCount(n,0,!0),n.unreadMessageCount>0&&s._updateTotalUnreadGroupChannelCount(n,-1,!1)):t.unread_message_count=V.cachedChannels[t.id].unreadMessageCount}V._upsert(t),V.get(n.getId(),function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onChannelUpdated(t)})}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleGroupChannelsReadPub(e){if(e.ok){let t=e.group_channel,n=!1;V.cachedChannels[t.id]&&(n=!0);let r=this;if(n){let e=fe.getInstance().user.id,n=V.cachedChannels[t.id];t.read_receipt[e]&&n.lastMessage&&t.read_receipt[e]>=n.lastMessage.insertedAt?(t.unread_message_count=0,r._updateTotalUnreadMessageCount(n,0,!0),n.unreadMessageCount>0&&r._updateTotalUnreadGroupChannelCount(n,-1,!1)):t.unread_message_count=V.cachedChannels[t.id].unreadMessageCount,V._upsert(t)}V.get(t.id,function(e,t){for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onReadStatusUpdated(t)})}}_handleBaseChannelsViewOnlyAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsJoinAck(e,t){if(e.ok){let n,r;e.group_channel?(n=e.group_channel,r=new V(n)):e.open_channel&&(n=e.open_channel,r=new ee(n)),t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleBaseChannelsJoinPub(e,t){if(e.ok){let t,n;e.group_channel?(t=e.group_channel,n=new V(t),V._upsert(t)):e.open_channel&&(t=e.open_channel,n=new ee(t),ee._upsert(t));let r=e.users[0],s=new N(r);for(let e in fe.getInstance().getChannelListenersMap())fe.getInstance().getChannelListenersMap()[e].onParticipantJoined(n,s)}}_handleBaseChannelsListAck(e,t){if(e.ok){let n;e.open_channels?n=e.open_channels:e.group_channels&&(n=e.group_channels);let r=[];for(let t in n)if(e.open_channels){let e=new ee(n[t]);r.push(e),ee._upsert(n[t])}else if(e.group_channels){let e=new V(n[t]);r.push(e),V._upsert(n[t])}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersAuthAck(e,t){if(e.ok){this._setUser(e.user),fe.getInstance().sessionKey=e.session_key,fe.getInstance().setConnectionState(ue.OPEN),t&&fe.getInstance().transportManager._listeners["r_"+t]&&(fe.getInstance().transportManager._listeners["r_"+t](null,fe.getInstance().user),delete fe.getInstance().transportManager._listeners["r_"+t]);for(let e of fe.getInstance().connectListeners)e(null,fe.getInstance().user);fe.getInstance().connectListeners=[];let n=fe.getInstance().getConnectionListenersMap();for(let e in n)n[e].onConnectionChanged(!0)}else{fe.getInstance().sessionKey&&(fe.getInstance().sessionKey=null),"NOT_AUTHORIZED"!==e.error.code&&"NOT_FOUND"!==e.error.code||"Session Key Invalid"===e.error.message||fe.getInstance().setAutoReconnectEnabled(!1),t&&fe.getInstance().emit("to."+t+".error",e.error);for(let t of fe.getInstance().connectListeners)t(new E(e.error),null);fe.getInstance().connectListeners=[]}}_handleUsersUpdateAck(e,t){e.ok?e.user.id===fe.getInstance().user.id&&(this._setUser(e.user),t&&fe.getInstance().emit("to."+t+".success",fe.getInstance().user)):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersListAck(e,t){if(e.ok){let n=e.users,r=[];for(let e in n){let t=new b(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersListCountAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.users.count):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersBlockListAck(e,t){if(e.ok){let n=e.users,r=[];for(let e in n){let t=new b(n[e]);r.push(t)}t&&fe.getInstance().emit("to."+t+".success",r)}else t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersBlockAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",new b(e.user)):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersGetTotalUnreadMessageCountAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user.unread_message_count):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersGetTotalUnreadGroupChannelCountAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user.unread_group_channel_count):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersMarkAsReadAllAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationPreferenceGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationPreferenceUpdateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationTemplateGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user.push_notification_template):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationTemplateUpdateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationSnoozeUpdateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationSnoozeGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user.push_notification_snooze):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationSoundGetAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.user.push_notification_sound):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushNotificationSoundUpdateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushTokenUpdateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",fe.getInstance().user):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersPushTokenDeleteAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",null):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handleUsersUnblockAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",new b(e.user)):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handlePaymentsCreateAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.payment):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handlePaymentsListAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e):t&&fe.getInstance().emit("to."+t+".error",e.error)}_handlePaymentsMyListAck(e,t){e.ok?t&&fe.getInstance().emit("to."+t+".success",e.payments):t&&fe.getInstance().emit("to."+t+".error",e.error)}_setUser(e){fe.getInstance().user=new b(e)}_updateTotalUnreadMessageCount(e,t,n=!1){for(let r in fe.getInstance().cachedTotalUnreadMessageCount){let{count:s,params:a}=fe.getInstance().cachedTotalUnreadMessageCount[r];if(0==a.getCustomFilter().length||!e.getCustomFilter().some(e=>-1===a.getCustomFilter().indexOf(e))){n?fe.getInstance().cachedTotalUnreadMessageCount[r].count=0:fe.getInstance().cachedTotalUnreadMessageCount[r].count+=t;for(let e in fe.getInstance().getUserListenersMap()){let{count:t,params:n}=fe.getInstance().cachedTotalUnreadMessageCount[r];fe.getInstance().getUserListenersMap()[e].onTotalUnreadMessageCount(t,n)}}}}_updateTotalUnreadGroupChannelCount(e,t,n=!1){for(let r in fe.getInstance().cachedTotalUnreadGroupChannelCount){let{count:s,params:a}=fe.getInstance().cachedTotalUnreadGroupChannelCount[r];if(0==a.getCustomFilter().length||!e.getCustomFilter().some(e=>-1===a.getCustomFilter().indexOf(e))){n?fe.getInstance().cachedTotalUnreadGroupChannelCount[r].count=0:fe.getInstance().cachedTotalUnreadGroupChannelCount[r].count+=t;for(let e in fe.getInstance().getUserListenersMap()){let{count:t,params:n}=fe.getInstance().cachedTotalUnreadGroupChannelCount[r];fe.getInstance().getUserListenersMap()[e].onTotalUnreadGroupChannelCount(t,n)}}}}_updateTotalGroupChannelCount(e,t,n=!1){for(let r in V.cachedTotalGroupChannelCount){let{count:s,params:a}=V.cachedTotalGroupChannelCount[r];if(0==a.getCustomFilter().length||!e.getCustomFilter().some(e=>-1===a.getCustomFilter().indexOf(e))){n?V.cachedTotalGroupChannelCount[r].count=0:V.cachedTotalGroupChannelCount[r].count+=t;for(let e in fe.getInstance().getChannelListenersMap()){let{count:t,params:n}=V.cachedTotalGroupChannelCount[r];fe.getInstance().getChannelListenersMap()[e].onTotalChannelCount(t,n)}}}}};n.d(t,"ClientPushNotificationTemplate",function(){return ce}),n.d(t,"ClientConnectionState",function(){return ue}),function(e){e.DEFAULT="DEFAULT",e.PRIVATE="PRIVATE"}(ce||(ce={})),function(e){e[e.OPEN=0]="OPEN",e[e.CONNECTING=1]="CONNECTING",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(ue||(ue={}));class he extends r{constructor(e){super(e),this.connectionState=ue.CLOSED,this.connectListeners=[],this.cachedTotalUnreadGroupChannelCount={},this.baseUrl="https://api.chatcamp.io/client-api/2.0",T.a.defaults.withCredentials=!0;let t=he.getInstance();if(t)return t;this.sessionKey=null,this.channelListeners={},this.connectionListeners={},this.userListeners={},this.cachedTotalUnreadMessageCount={},this.autoReconnectEnabled=!0,this.userForceToDisconnect=!1,this.tick=window.setInterval(()=>{let e=V.cachedChannels;for(let t in e){if(e[t].checkTypingStatus())for(let n in he.getInstance().getChannelListenersMap()){he.getInstance().getChannelListenersMap()[n].onTypingStatusChanged(e[t])}}},1e3),this.app=new k(e),this.GroupChannel=V,this.GroupChannelParams=j,this.OpenChannel=ee,this.OpenChannelParams=te,this.Message=S,this.MessageParams=U,this.GroupChannelListQuery=P,this.OpenChannelListQuery=X,this.ChannelListener=q,this.ConnectionListener=Q,this.UserListener=K,this.User=b,this.Payment=J,this.ThumbnailDimension=L,this.Participant=N,this.TotalCountFilterParams=x,he.instance=this}static getInstance(){return he.instance}connect(...e){2==arguments.length?"string"==typeof arguments[0]&&(arguments[1],1)&&this.connectUser(arguments[0],arguments[1]):3==arguments.length?"string"==typeof arguments[0]&&"string"==typeof arguments[1]&&(arguments[2],1)?this.connectUserWithAccessToken(arguments[0],arguments[1],arguments[2]):"string"==typeof arguments[0]&&void 0===arguments[1]&&(arguments[2],1)&&this.connectUser(arguments[0],arguments[2]):4==arguments.length?"string"==typeof arguments[0]&&"string"==typeof arguments[1]&&"string"==typeof arguments[2]&&"function"==typeof arguments[3]&&this.customConnectUser(arguments[0],arguments[1],arguments[2],arguments[3]):5==arguments.length&&("string"==typeof arguments[0]&&"string"==typeof arguments[1]&&"string"==typeof arguments[2]&&"string"==typeof arguments[3]&&"function"==typeof arguments[4]?this.customConnectUserWithAccessToken(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):"string"==typeof arguments[0]&&void 0===arguments[1]&&"string"==typeof arguments[2]&&"string"==typeof arguments[3]&&"function"==typeof arguments[4]&&this.customConnectUser(arguments[0],arguments[2],arguments[3],arguments[4]))}connectUser(e,t){return this._connect({userId:e},t)}connectUserWithAccessToken(e,t,n){return this._connect({userId:e,accessToken:t},n)}customConnectUser(e,t,n,r){return"443"===n?(this.baseUrl="https://"+t+":"+n+"/client-api/2.0",t="wss://"+t):(this.baseUrl="http://"+t+":"+n+"/client-api/2.0",t="ws://"+t),this._connect({userId:e,host:t,port:n},r)}customConnectUserWithAccessToken(e,t,n,r,s){return"443"===r?(this.baseUrl="https://"+n+":"+r+"/client-api/2.0",n="wss://"+n):(this.baseUrl="http://"+n+":"+r+"/client-api/2.0",n="ws://"+n),this._connect({userId:e,accessToken:t,host:n,port:r},s)}_connect(e,t){if(this.getConnectionState()===ue.OPEN)t(null,this.user);else if(this.getConnectionState()==ue.CONNECTING)this.connectListeners.push(t);else{let n;this.userForceToDisconnect=!1,n={client:this,app_id:this.app.id,userId:e.userId},e.accessToken&&(n.accessToken=e.accessToken),e.host&&e.port&&(n.host=e.host,n.port=e.port),this.transportManager||(this.transportManager=new oe(n)),this.connectListeners.push(t),this.transportManager._connect(n),this.eventManager||(this.eventManager=new le(this,this.transportManager))}}_clientApiPost(e,t,n){var r=new FormData;for(let e in t)if("object"==typeof t[e]&&"avatar_file"!==e){let n=t[e];for(let t in n)Array.isArray(n)?r.append(e+"[]",n[t]):r.append(e+"["+t+"]",n[t])}else r.append(e,t[e]);let s={headers:{"content-type":"multipart/form-data","x-session-key":he.getInstance().sessionKey},onUploadProgress:e=>{}};return T.a.post(he.getInstance().baseUrl+e,r,s).then(e=>n(null,e)).catch(e=>n(e,null)),!0}_uploadAttachment(e,t,n){let r=new FormData;r.append("channel_type",e.channelType),r.append("channel_id",e.channelId),r.append("file",e.file),r.append("type","MESSAGE_ATTACHMENT"),e.thumbnails&&r.append("thumbnails",JSON.stringify(e.thumbnails)),this.sessionKey&&r.append("user_access_token",this.user.accessToken);let s={headers:{"content-type":"multipart/form-data","x-session-key":this.sessionKey},onUploadProgress:e=>{t(e.loaded,e.total)}};T.a.post(this.baseUrl+"/files.upload",r,s).then(e=>e.data&&e.data.file?n(null,e.data.file):n(!0,null)).catch(e=>n(e,null))}getConnectionState(){return this.connectionState}setConnectionState(e){this.connectionState=e}updateUserDisplayName(e,t){return this._updateDisplayNameOnServer(e,t)}updateUserProfileUrl(e,t){return this._updateProfileUrlOnServer(e,t)}updateUserAvatarUrl(e,t){return this._updateAvatarUrlOnServer(e,t)}uploadUserAvatar(e,t,n){let r=new FormData;r.append("app_id",this.app.id),r.append("user_id",this.user.id),this.user.accessToken&&r.append("user_access_token",this.user.accessToken),r.append("avatar",e);let s={headers:{"content-type":"multipart/form-data"},onUploadProgress:e=>{t(e.loaded,e.total)}};T.a.post(this.baseUrl+"/avatar_upload",r,s).then(e=>e.data&&e.data.user?n(null,new b(e.data.user)):n(e.data.error,null)).catch(e=>n(e,null))}updateUserData(e,t){let n={id:this.user.id,data:e};return this._updateUserOnServer(n,t)}updateUserMetadata(e,t){return this._updateMetadataOnServer(e,t)}addChannelListener(e,t){this.channelListeners[e]=t}addConnectionListener(e,t){this.connectionListeners[e]=t}addUserListener(e,t){this.userListeners[e]=t}removeChannelListener(e){delete this.channelListeners[e]}removeConnectionListener(e){delete this.connectionListeners[e]}removeUserListener(e){delete this.userListeners[e]}getChannelListenersMap(){return this.channelListeners}getConnectionListenersMap(){return this.connectionListeners}getUserListenersMap(){return this.userListeners}createUserListQuery(){return new Z(Y.ALL_USER)}createBlockedUserListQuery(){return new Z(Y.BLOCKED_USER)}setAutoReconnectEnabled(e){this.autoReconnectEnabled=e}isAutoReconnectEnabled(){return this.autoReconnectEnabled}hasUserForcedDisconnect(){return this.userForceToDisconnect}disconnect(e){this.userForceToDisconnect=!0,this.transportManager.disconnect(e)}blockUser(e,t){let n=this.transportManager.send({t:"users.block",d:{block_id:e}}),r=e=>(window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(e,null)};return he.getInstance().on("to."+n+".success",r),he.getInstance().on("to."+n+".error",s),!0}unblockUser(e,t){let n=this.transportManager.send({t:"users.unblock",d:{unblock_id:e}}),r=e=>(window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(null,e)),s=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(e,null)};return he.getInstance().on("to."+n+".success",r),he.getInstance().on("to."+n+".error",s),!0}updatePushNotificationTemplate(e,t){let n=this.transportManager.send({t:"users.push_notification_template_update",d:{push_notification_template:e}}),r=()=>(window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(e)};return he.getInstance().on("to."+n+".success",r),he.getInstance().on("to."+n+".error",s),!0}getPushNotificationTemplate(e){let t=this.transportManager.send({t:"users.push_notification_template_get",d:{}}),n=s=>(window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(null,s)),r=s=>{new E(s);return window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(s,null)};return he.getInstance().on("to."+t+".success",n),he.getInstance().on("to."+t+".error",r),!0}updatePushNotificationSound(e,t){let n=this.transportManager.send({t:"users.push_notification_sound_update",d:{push_notification_sound:e}}),r=()=>(window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(e)};return he.getInstance().on("to."+n+".success",r),he.getInstance().on("to."+n+".error",s),!0}getPushNotificationSound(e){let t=this.transportManager.send({t:"users.push_notification_sound_get",d:{}}),n=s=>(window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(null,s)),r=s=>{new E(s);return window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(s,null)};return he.getInstance().on("to."+t+".success",n),he.getInstance().on("to."+t+".error",r),!0}updatePushNotificationPreference(e,t,n,r,s,a,i){this._updatePushNotificationPreference({doNotDisturb:e,startHour:t,startMin:n,endHour:r,endMin:s,timezone:a},i)}_updatePushNotificationPreference(e,t){let n={t:"users.push_preference_update",d:{dnd:e.doNotDisturb,start_dnd_hour:e.startHour,start_dnd_min:e.startMin,end_dnd_hour:e.endHour,end_dnd_min:e.endMin,timezone:e.timezone}};e.groupChannelId&&(n.d.group_channel_id=e.groupChannelId);let r=this.transportManager.send(n),s=()=>(window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(null)),a=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(e)};return he.getInstance().on("to."+r+".success",s),he.getInstance().on("to."+r+".error",a),!0}getPushNotificationPreference(e){this._getPushNotificationPreference({},e)}_getPushNotificationPreference(e,t){let n={t:"users.push_preference_get",d:{}};e.groupChannelId&&(n.d.group_channel_id=e.groupChannelId);let r=this.transportManager.send(n),s=e=>(window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(null,e.dnd,e.start_dnd_hour,e.start_dnd_min,e.end_dnd_hour,e.end_dnd_min,e.timezone)),a=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(e,null,null,null,null,null,null)};return he.getInstance().on("to."+r+".success",s),he.getInstance().on("to."+r+".error",a),!0}_updateDisplayNameOnServer(e,t){let n={id:this.user.id,display_name:e};return this._updateUserOnServer(n,t)}_updateProfileUrlOnServer(e,t){let n={id:this.user.id,profile_url:e};return this._updateUserOnServer(n,t)}_updateAvatarUrlOnServer(e,t){let n={id:this.user.id,avatar_url:e};return this._updateUserOnServer(n,t)}_updateMetadataOnServer(e,t){let n={id:this.user.id,metadata:e};return this._updateUserOnServer(n,t)}_updateUserOnServer(e,t){let n={t:"users.update",d:e},r=this.transportManager.send(n),s=e=>(window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(null,e)),a=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(e,null)};return he.getInstance().on("to."+r+".success",s),he.getInstance().on("to."+r+".error",a),!0}markAsReadAll(e){let t=this.transportManager.send({t:"users.mark_as_read_all",d:{}}),n=()=>(window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(null)),r=s=>{new E(s);return window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(s)};return he.getInstance().on("to."+t+".success",n),he.getInstance().on("to."+t+".error",r),!0}getTotalUnreadMessageCount(e,t){"object"==typeof t?this._getTotalUnreadMessageCount(e,t):this._getTotalUnreadMessageCount(new x,e)}_getTotalUnreadMessageCount(e,t){let n={custom_filter_query_type:e.getCustomFilterQueryType()};e.getCustomFilter().length&&(n.custom_filter=e.getCustomFilter());let r=this.transportManager.send({t:"users.get_total_unread_message_count",d:n}),s=n=>{let i=e.getCustomFilter().join("")+e.getCustomFilterQueryType();return this.cachedTotalUnreadMessageCount[i]={count:n,params:e},window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(null,n,e)},a=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(e,null,null)};return he.getInstance().on("to."+r+".success",s),he.getInstance().on("to."+r+".error",a),!0}getTotalUnreadGroupChannelCount(e,t){"object"==typeof t?this._getTotalUnreadGroupChannelCount(e,t):this._getTotalUnreadGroupChannelCount(new x,e)}_getTotalUnreadGroupChannelCount(e,t){let n={custom_filter_query_type:e.getCustomFilterQueryType()};e.getCustomFilter().length&&(n.custom_filter=e.getCustomFilter());let r=this.transportManager.send({t:"users.get_total_unread_group_channel_count",d:n}),s=n=>{let i=e.getCustomFilter().join("")+e.getCustomFilterQueryType();return this.cachedTotalUnreadGroupChannelCount[i]={count:n,params:e},window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(null,n,e)},a=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+r+".success",s),he.getInstance().off("to."+r+".error",a)},0),t(e,null,null)};return he.getInstance().on("to."+r+".success",s),he.getInstance().on("to."+r+".error",a),!0}updatePushNotificationSnooze(e,t){Math.round((new Date).getTime()/1e3);let n=this.transportManager.send({t:"users.push_notification_snooze_update",d:{push_notification_snooze_duration:e}}),r=()=>(window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(null)),s=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+n+".success",r),he.getInstance().off("to."+n+".error",s)},0),t(e)};return he.getInstance().on("to."+n+".success",r),he.getInstance().on("to."+n+".error",s),!0}getPushNotificationSnooze(e){let t=this.transportManager.send({t:"users.push_notification_snooze_get",d:{}}),n=s=>{let a=Math.round((new Date).getTime()/1e3),i=0;return s-a>0&&(i=Math.round((s-a)/60)),window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(null,i)},r=s=>{new E(s);return window.setTimeout(()=>{he.getInstance().off("to."+t+".success",n),he.getInstance().off("to."+t+".error",r)},0),e(s,null)};return he.getInstance().on("to."+t+".success",n),he.getInstance().on("to."+t+".error",r),!0}updateUserPushToken(e,t,n){let r={push_token_type:t,push_token:e},s=this.transportManager.send({t:"users.push_token_update",d:r}),a=e=>(window.setTimeout(()=>{he.getInstance().off("to."+s+".success",a),he.getInstance().off("to."+s+".error",i)},0),n(null,e)),i=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+s+".success",a),he.getInstance().off("to."+s+".error",i)},0),n(e,null)};return he.getInstance().on("to."+s+".success",a),he.getInstance().on("to."+s+".error",i),!0}deleteUserPushToken(e,t,n){this._deleteUserPushTokenOnServer(e,t,n)}deleteAllUserPushTokens(e){this._deleteUserPushTokenOnServer(e)}_deleteUserPushTokenOnServer(e,t,n){let r={},s=e;"function"==typeof n&&(r={push_token_type:t,push_token:e},s=n);let a=this.transportManager.send({t:"users.push_token_delete",d:r}),i=()=>(window.setTimeout(()=>{he.getInstance().off("to."+a+".success",i),he.getInstance().off("to."+a+".error",o)},0),s(null)),o=e=>{new E(e);return window.setTimeout(()=>{he.getInstance().off("to."+a+".success",i),he.getInstance().off("to."+a+".error",o)},0),s(e)};return he.getInstance().on("to."+a+".success",i),he.getInstance().on("to."+a+".error",o),!0}getCurrentUser(){return this.user}}var fe=t.default=he}])});